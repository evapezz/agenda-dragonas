import{j as e,N as a,a as t,C as i,b as n,F as r,D as s,B as l,R as c,c as o,d,A as m,e as h,I as u,S as p,T as b,f as g,g as f,h as v,M as y,L as N}from"./bootstrap-4562ab3f.js";import{d as w,r as x,R as C}from"./vendor-bffecf8b.js";import{u as S,L as k,N as E,a as R,R as A,b as T,B as j}from"./router-ff28dae6.js";import{R as P,L,C as D,X as O,Y as B,T as I,a as _,b as q,B as z,c as U}from"./charts-59936ca3.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();var F={},G=w;function M(e,a){return function(){return e.apply(a,arguments)}}F.createRoot=G.createRoot,F.hydrateRoot=G.hydrateRoot;const{toString:H}=Object.prototype,{getPrototypeOf:$}=Object,{iterator:V,toStringTag:W}=Symbol,J=(K=Object.create(null),e=>{const a=H.call(e);return K[a]||(K[a]=a.slice(8,-1).toLowerCase())});var K;const Q=e=>(e=e.toLowerCase(),a=>J(a)===e),X=e=>a=>typeof a===e,{isArray:Z}=Array,Y=X("undefined");const ee=Q("ArrayBuffer");const ae=X("string"),te=X("function"),ie=X("number"),ne=e=>null!==e&&"object"==typeof e,re=e=>{if("object"!==J(e))return!1;const a=$(e);return!(null!==a&&a!==Object.prototype&&null!==Object.getPrototypeOf(a)||W in e||V in e)},se=Q("Date"),le=Q("File"),ce=Q("Blob"),oe=Q("FileList"),de=Q("URLSearchParams"),[me,he,ue,pe]=["ReadableStream","Request","Response","Headers"].map(Q);function be(e,a,{allOwnKeys:t=!1}={}){if(null==e)return;let i,n;if("object"!=typeof e&&(e=[e]),Z(e))for(i=0,n=e.length;i<n;i++)a.call(null,e[i],i,e);else{const n=t?Object.getOwnPropertyNames(e):Object.keys(e),r=n.length;let s;for(i=0;i<r;i++)s=n[i],a.call(null,e[s],s,e)}}function ge(e,a){a=a.toLowerCase();const t=Object.keys(e);let i,n=t.length;for(;n-- >0;)if(i=t[n],a===i.toLowerCase())return i;return null}const fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ve=e=>!Y(e)&&e!==fe;const ye=(Ne="undefined"!=typeof Uint8Array&&$(Uint8Array),e=>Ne&&e instanceof Ne);var Ne;const we=Q("HTMLFormElement"),xe=(({hasOwnProperty:e})=>(a,t)=>e.call(a,t))(Object.prototype),Ce=Q("RegExp"),Se=(e,a)=>{const t=Object.getOwnPropertyDescriptors(e),i={};be(t,((t,n)=>{let r;!1!==(r=a(t,n,e))&&(i[n]=r||t)})),Object.defineProperties(e,i)};const ke=Q("AsyncFunction"),Ee=(Re="function"==typeof setImmediate,Ae=te(fe.postMessage),Re?setImmediate:Ae?(Te=`axios@${Math.random()}`,je=[],fe.addEventListener("message",(({source:e,data:a})=>{e===fe&&a===Te&&je.length&&je.shift()()}),!1),e=>{je.push(e),fe.postMessage(Te,"*")}):e=>setTimeout(e));var Re,Ae,Te,je;const Pe="undefined"!=typeof queueMicrotask?queueMicrotask.bind(fe):"undefined"!=typeof process&&process.nextTick||Ee,Le={isArray:Z,isArrayBuffer:ee,isBuffer:function(e){return null!==e&&!Y(e)&&null!==e.constructor&&!Y(e.constructor)&&te(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let a;return e&&("function"==typeof FormData&&e instanceof FormData||te(e.append)&&("formdata"===(a=J(e))||"object"===a&&te(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let a;return a="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ee(e.buffer),a},isString:ae,isNumber:ie,isBoolean:e=>!0===e||!1===e,isObject:ne,isPlainObject:re,isReadableStream:me,isRequest:he,isResponse:ue,isHeaders:pe,isUndefined:Y,isDate:se,isFile:le,isBlob:ce,isRegExp:Ce,isFunction:te,isStream:e=>ne(e)&&te(e.pipe),isURLSearchParams:de,isTypedArray:ye,isFileList:oe,forEach:be,merge:function e(){const{caseless:a}=ve(this)&&this||{},t={},i=(i,n)=>{const r=a&&ge(t,n)||n;re(t[r])&&re(i)?t[r]=e(t[r],i):re(i)?t[r]=e({},i):Z(i)?t[r]=i.slice():t[r]=i};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&be(arguments[n],i);return t},extend:(e,a,t,{allOwnKeys:i}={})=>(be(a,((a,i)=>{t&&te(a)?e[i]=M(a,t):e[i]=a}),{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,a,t,i)=>{e.prototype=Object.create(a.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),t&&Object.assign(e.prototype,t)},toFlatObject:(e,a,t,i)=>{let n,r,s;const l={};if(a=a||{},null==e)return a;do{for(n=Object.getOwnPropertyNames(e),r=n.length;r-- >0;)s=n[r],i&&!i(s,e,a)||l[s]||(a[s]=e[s],l[s]=!0);e=!1!==t&&$(e)}while(e&&(!t||t(e,a))&&e!==Object.prototype);return a},kindOf:J,kindOfTest:Q,endsWith:(e,a,t)=>{e=String(e),(void 0===t||t>e.length)&&(t=e.length),t-=a.length;const i=e.indexOf(a,t);return-1!==i&&i===t},toArray:e=>{if(!e)return null;if(Z(e))return e;let a=e.length;if(!ie(a))return null;const t=new Array(a);for(;a-- >0;)t[a]=e[a];return t},forEachEntry:(e,a)=>{const t=(e&&e[V]).call(e);let i;for(;(i=t.next())&&!i.done;){const t=i.value;a.call(e,t[0],t[1])}},matchAll:(e,a)=>{let t;const i=[];for(;null!==(t=e.exec(a));)i.push(t);return i},isHTMLForm:we,hasOwnProperty:xe,hasOwnProp:xe,reduceDescriptors:Se,freezeMethods:e=>{Se(e,((a,t)=>{if(te(e)&&-1!==["arguments","caller","callee"].indexOf(t))return!1;const i=e[t];te(i)&&(a.enumerable=!1,"writable"in a?a.writable=!1:a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")}))}))},toObjectSet:(e,a)=>{const t={},i=e=>{e.forEach((e=>{t[e]=!0}))};return Z(e)?i(e):i(String(e).split(a)),t},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,a,t){return a.toUpperCase()+t})),noop:()=>{},toFiniteNumber:(e,a)=>null!=e&&Number.isFinite(e=+e)?e:a,findKey:ge,global:fe,isContextDefined:ve,isSpecCompliantForm:function(e){return!!(e&&te(e.append)&&"FormData"===e[W]&&e[V])},toJSONObject:e=>{const a=new Array(10),t=(e,i)=>{if(ne(e)){if(a.indexOf(e)>=0)return;if(!("toJSON"in e)){a[i]=e;const n=Z(e)?[]:{};return be(e,((e,a)=>{const r=t(e,i+1);!Y(r)&&(n[a]=r)})),a[i]=void 0,n}}return e};return t(e,0)},isAsyncFn:ke,isThenable:e=>e&&(ne(e)||te(e))&&te(e.then)&&te(e.catch),setImmediate:Ee,asap:Pe,isIterable:e=>null!=e&&te(e[V])};function De(e,a,t,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",a&&(this.code=a),t&&(this.config=t),i&&(this.request=i),n&&(this.response=n,this.status=n.status?n.status:null)}Le.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Le.toJSONObject(this.config),code:this.code,status:this.status}}});const Oe=De.prototype,Be={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Be[e]={value:e}})),Object.defineProperties(De,Be),Object.defineProperty(Oe,"isAxiosError",{value:!0}),De.from=(e,a,t,i,n,r)=>{const s=Object.create(Oe);return Le.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),De.call(s,e.message,a,t,i,n),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};function Ie(e){return Le.isPlainObject(e)||Le.isArray(e)}function _e(e){return Le.endsWith(e,"[]")?e.slice(0,-2):e}function qe(e,a,t){return e?e.concat(a).map((function(e,a){return e=_e(e),!t&&a?"["+e+"]":e})).join(t?".":""):a}const ze=Le.toFlatObject(Le,{},null,(function(e){return/^is[A-Z]/.test(e)}));function Ue(e,a,t){if(!Le.isObject(e))throw new TypeError("target must be an object");a=a||new FormData;const i=(t=Le.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,a){return!Le.isUndefined(a[e])}))).metaTokens,n=t.visitor||o,r=t.dots,s=t.indexes,l=(t.Blob||"undefined"!=typeof Blob&&Blob)&&Le.isSpecCompliantForm(a);if(!Le.isFunction(n))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Le.isDate(e))return e.toISOString();if(!l&&Le.isBlob(e))throw new De("Blob is not supported. Use a Buffer instead.");return Le.isArrayBuffer(e)||Le.isTypedArray(e)?l&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function o(e,t,n){let l=e;if(e&&!n&&"object"==typeof e)if(Le.endsWith(t,"{}"))t=i?t:t.slice(0,-2),e=JSON.stringify(e);else if(Le.isArray(e)&&function(e){return Le.isArray(e)&&!e.some(Ie)}(e)||(Le.isFileList(e)||Le.endsWith(t,"[]"))&&(l=Le.toArray(e)))return t=_e(t),l.forEach((function(e,i){!Le.isUndefined(e)&&null!==e&&a.append(!0===s?qe([t],i,r):null===s?t:t+"[]",c(e))})),!1;return!!Ie(e)||(a.append(qe(n,t,r),c(e)),!1)}const d=[],m=Object.assign(ze,{defaultVisitor:o,convertValue:c,isVisitable:Ie});if(!Le.isObject(e))throw new TypeError("data must be an object");return function e(t,i){if(!Le.isUndefined(t)){if(-1!==d.indexOf(t))throw Error("Circular reference detected in "+i.join("."));d.push(t),Le.forEach(t,(function(t,r){!0===(!(Le.isUndefined(t)||null===t)&&n.call(a,t,Le.isString(r)?r.trim():r,i,m))&&e(t,i?i.concat(r):[r])})),d.pop()}}(e),a}function Fe(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return a[e]}))}function Ge(e,a){this._pairs=[],e&&Ue(e,this,a)}const Me=Ge.prototype;function He(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $e(e,a,t){if(!a)return e;const i=t&&t.encode||He;Le.isFunction(t)&&(t={serialize:t});const n=t&&t.serialize;let r;if(r=n?n(a,t):Le.isURLSearchParams(a)?a.toString():new Ge(a,t).toString(i),r){const a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}Me.append=function(e,a){this._pairs.push([e,a])},Me.toString=function(e){const a=e?function(a){return e.call(this,a,Fe)}:Fe;return this._pairs.map((function(e){return a(e[0])+"="+a(e[1])}),"").join("&")};const Ve=class{constructor(){this.handlers=[]}use(e,a,t){return this.handlers.push({fulfilled:e,rejected:a,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Le.forEach(this.handlers,(function(a){null!==a&&e(a)}))}},We={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Je={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Ge,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ke="undefined"!=typeof window&&"undefined"!=typeof document,Qe="object"==typeof navigator&&navigator||void 0,Xe=Ke&&(!Qe||["ReactNative","NativeScript","NS"].indexOf(Qe.product)<0),Ze="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ye=Ke&&window.location.href||"http://localhost",ea={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ke,hasStandardBrowserEnv:Xe,hasStandardBrowserWebWorkerEnv:Ze,navigator:Qe,origin:Ye},Symbol.toStringTag,{value:"Module"})),...Je};function aa(e){function a(e,t,i,n){let r=e[n++];if("__proto__"===r)return!0;const s=Number.isFinite(+r),l=n>=e.length;if(r=!r&&Le.isArray(i)?i.length:r,l)return Le.hasOwnProp(i,r)?i[r]=[i[r],t]:i[r]=t,!s;i[r]&&Le.isObject(i[r])||(i[r]=[]);return a(e,t,i[r],n)&&Le.isArray(i[r])&&(i[r]=function(e){const a={},t=Object.keys(e);let i;const n=t.length;let r;for(i=0;i<n;i++)r=t[i],a[r]=e[r];return a}(i[r])),!s}if(Le.isFormData(e)&&Le.isFunction(e.entries)){const t={};return Le.forEachEntry(e,((e,i)=>{a(function(e){return Le.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,t,0)})),t}return null}const ta={transitional:We,adapter:["xhr","http","fetch"],transformRequest:[function(e,a){const t=a.getContentType()||"",i=t.indexOf("application/json")>-1,n=Le.isObject(e);n&&Le.isHTMLForm(e)&&(e=new FormData(e));if(Le.isFormData(e))return i?JSON.stringify(aa(e)):e;if(Le.isArrayBuffer(e)||Le.isBuffer(e)||Le.isStream(e)||Le.isFile(e)||Le.isBlob(e)||Le.isReadableStream(e))return e;if(Le.isArrayBufferView(e))return e.buffer;if(Le.isURLSearchParams(e))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(n){if(t.indexOf("application/x-www-form-urlencoded")>-1)return function(e,a){return Ue(e,new ea.classes.URLSearchParams,Object.assign({visitor:function(e,a,t,i){return ea.isNode&&Le.isBuffer(e)?(this.append(a,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},a))}(e,this.formSerializer).toString();if((r=Le.isFileList(e))||t.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Ue(r?{"files[]":e}:e,a&&new a,this.formSerializer)}}return n||i?(a.setContentType("application/json",!1),function(e,a,t){if(Le.isString(e))try{return(a||JSON.parse)(e),Le.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(t||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const a=this.transitional||ta.transitional,t=a&&a.forcedJSONParsing,i="json"===this.responseType;if(Le.isResponse(e)||Le.isReadableStream(e))return e;if(e&&Le.isString(e)&&(t&&!this.responseType||i)){const t=!(a&&a.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(n){if(t){if("SyntaxError"===n.name)throw De.from(n,De.ERR_BAD_RESPONSE,this,null,this.response);throw n}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ea.classes.FormData,Blob:ea.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Le.forEach(["delete","get","head","post","put","patch"],(e=>{ta.headers[e]={}}));const ia=ta,na=Le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ra=Symbol("internals");function sa(e){return e&&String(e).trim().toLowerCase()}function la(e){return!1===e||null==e?e:Le.isArray(e)?e.map(la):String(e)}function ca(e,a,t,i,n){return Le.isFunction(i)?i.call(this,a,t):(n&&(a=t),Le.isString(a)?Le.isString(i)?-1!==a.indexOf(i):Le.isRegExp(i)?i.test(a):void 0:void 0)}class oa{constructor(e){e&&this.set(e)}set(e,a,t){const i=this;function n(e,a,t){const n=sa(a);if(!n)throw new Error("header name must be a non-empty string");const r=Le.findKey(i,n);(!r||void 0===i[r]||!0===t||void 0===t&&!1!==i[r])&&(i[r||a]=la(e))}const r=(e,a)=>Le.forEach(e,((e,t)=>n(e,t,a)));if(Le.isPlainObject(e)||e instanceof this.constructor)r(e,a);else if(Le.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const a={};let t,i,n;return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),i=e.substring(n+1).trim(),!t||a[t]&&na[t]||("set-cookie"===t?a[t]?a[t].push(i):a[t]=[i]:a[t]=a[t]?a[t]+", "+i:i)})),a})(e),a);else if(Le.isObject(e)&&Le.isIterable(e)){let t,i,n={};for(const a of e){if(!Le.isArray(a))throw TypeError("Object iterator must return a key-value pair");n[i=a[0]]=(t=n[i])?Le.isArray(t)?[...t,a[1]]:[t,a[1]]:a[1]}r(n,a)}else null!=e&&n(a,e,t);return this}get(e,a){if(e=sa(e)){const t=Le.findKey(this,e);if(t){const e=this[t];if(!a)return e;if(!0===a)return function(e){const a=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(e);)a[i[1]]=i[2];return a}(e);if(Le.isFunction(a))return a.call(this,e,t);if(Le.isRegExp(a))return a.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,a){if(e=sa(e)){const t=Le.findKey(this,e);return!(!t||void 0===this[t]||a&&!ca(0,this[t],t,a))}return!1}delete(e,a){const t=this;let i=!1;function n(e){if(e=sa(e)){const n=Le.findKey(t,e);!n||a&&!ca(0,t[n],n,a)||(delete t[n],i=!0)}}return Le.isArray(e)?e.forEach(n):n(e),i}clear(e){const a=Object.keys(this);let t=a.length,i=!1;for(;t--;){const n=a[t];e&&!ca(0,this[n],n,e,!0)||(delete this[n],i=!0)}return i}normalize(e){const a=this,t={};return Le.forEach(this,((i,n)=>{const r=Le.findKey(t,n);if(r)return a[r]=la(i),void delete a[n];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,a,t)=>a.toUpperCase()+t))}(n):String(n).trim();s!==n&&delete a[n],a[s]=la(i),t[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const a=Object.create(null);return Le.forEach(this,((t,i)=>{null!=t&&!1!==t&&(a[i]=e&&Le.isArray(t)?t.join(", "):t)})),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,a])=>e+": "+a)).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...a){const t=new this(e);return a.forEach((e=>t.set(e))),t}static accessor(e){const a=(this[ra]=this[ra]={accessors:{}}).accessors,t=this.prototype;function i(e){const i=sa(e);a[i]||(!function(e,a){const t=Le.toCamelCase(" "+a);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+t,{value:function(e,t,n){return this[i].call(this,a,e,t,n)},configurable:!0})}))}(t,e),a[i]=!0)}return Le.isArray(e)?e.forEach(i):i(e),this}}oa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Le.reduceDescriptors(oa.prototype,(({value:e},a)=>{let t=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(e){this[t]=e}}})),Le.freezeMethods(oa);const da=oa;function ma(e,a){const t=this||ia,i=a||t,n=da.from(i.headers);let r=i.data;return Le.forEach(e,(function(e){r=e.call(t,r,n.normalize(),a?a.status:void 0)})),n.normalize(),r}function ha(e){return!(!e||!e.__CANCEL__)}function ua(e,a,t){De.call(this,null==e?"canceled":e,De.ERR_CANCELED,a,t),this.name="CanceledError"}function pa(e,a,t){const i=t.config.validateStatus;t.status&&i&&!i(t.status)?a(new De("Request failed with status code "+t.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t)):e(t)}Le.inherits(ua,De,{__CANCEL__:!0});const ba=(e,a,t=3)=>{let i=0;const n=function(e,a){e=e||10;const t=new Array(e),i=new Array(e);let n,r=0,s=0;return a=void 0!==a?a:1e3,function(l){const c=Date.now(),o=i[s];n||(n=c),t[r]=l,i[r]=c;let d=s,m=0;for(;d!==r;)m+=t[d++],d%=e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),c-n<a)return;const h=o&&c-o;return h?Math.round(1e3*m/h):void 0}}(50,250);return function(e,a){let t,i,n=0,r=1e3/a;const s=(a,r=Date.now())=>{n=r,t=null,i&&(clearTimeout(i),i=null),e.apply(null,a)};return[(...e)=>{const a=Date.now(),l=a-n;l>=r?s(e,a):(t=e,i||(i=setTimeout((()=>{i=null,s(t)}),r-l)))},()=>t&&s(t)]}((t=>{const r=t.loaded,s=t.lengthComputable?t.total:void 0,l=r-i,c=n(l);i=r;e({loaded:r,total:s,progress:s?r/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&r<=s?(s-r)/c:void 0,event:t,lengthComputable:null!=s,[a?"download":"upload"]:!0})}),t)},ga=(e,a)=>{const t=null!=e;return[i=>a[0]({lengthComputable:t,total:e,loaded:i}),a[1]]},fa=e=>(...a)=>Le.asap((()=>e(...a))),va=ea.hasStandardBrowserEnv?(ya=new URL(ea.origin),Na=ea.navigator&&/(msie|trident)/i.test(ea.navigator.userAgent),e=>(e=new URL(e,ea.origin),ya.protocol===e.protocol&&ya.host===e.host&&(Na||ya.port===e.port))):()=>!0;var ya,Na;const wa=ea.hasStandardBrowserEnv?{write(e,a,t,i,n,r){const s=[e+"="+encodeURIComponent(a)];Le.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),Le.isString(i)&&s.push("path="+i),Le.isString(n)&&s.push("domain="+n),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read(e){const a=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function xa(e,a,t){let i=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a);return e&&(i||0==t)?function(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}(e,a):a}const Ca=e=>e instanceof da?{...e}:e;function Sa(e,a){a=a||{};const t={};function i(e,a,t,i){return Le.isPlainObject(e)&&Le.isPlainObject(a)?Le.merge.call({caseless:i},e,a):Le.isPlainObject(a)?Le.merge({},a):Le.isArray(a)?a.slice():a}function n(e,a,t,n){return Le.isUndefined(a)?Le.isUndefined(e)?void 0:i(void 0,e,0,n):i(e,a,0,n)}function r(e,a){if(!Le.isUndefined(a))return i(void 0,a)}function s(e,a){return Le.isUndefined(a)?Le.isUndefined(e)?void 0:i(void 0,e):i(void 0,a)}function l(t,n,r){return r in a?i(t,n):r in e?i(void 0,t):void 0}const c={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(e,a,t)=>n(Ca(e),Ca(a),0,!0)};return Le.forEach(Object.keys(Object.assign({},e,a)),(function(i){const r=c[i]||n,s=r(e[i],a[i],i);Le.isUndefined(s)&&r!==l||(t[i]=s)})),t}const ka=e=>{const a=Sa({},e);let t,{data:i,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:s,headers:l,auth:c}=a;if(a.headers=l=da.from(l),a.url=$e(xa(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Le.isFormData(i))if(ea.hasStandardBrowserEnv||ea.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(t=l.getContentType())){const[e,...a]=t?t.split(";").map((e=>e.trim())).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...a].join("; "))}if(ea.hasStandardBrowserEnv&&(n&&Le.isFunction(n)&&(n=n(a)),n||!1!==n&&va(a.url))){const e=r&&s&&wa.read(s);e&&l.set(r,e)}return a},Ea="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(a,t){const i=ka(e);let n=i.data;const r=da.from(i.headers).normalize();let s,l,c,o,d,{responseType:m,onUploadProgress:h,onDownloadProgress:u}=i;function p(){o&&o(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(s),i.signal&&i.signal.removeEventListener("abort",s)}let b=new XMLHttpRequest;function g(){if(!b)return;const i=da.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders());pa((function(e){a(e),p()}),(function(e){t(e),p()}),{data:m&&"text"!==m&&"json"!==m?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:i,config:e,request:b}),b=null}b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout,"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(g)},b.onabort=function(){b&&(t(new De("Request aborted",De.ECONNABORTED,e,b)),b=null)},b.onerror=function(){t(new De("Network Error",De.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let a=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const n=i.transitional||We;i.timeoutErrorMessage&&(a=i.timeoutErrorMessage),t(new De(a,n.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,e,b)),b=null},void 0===n&&r.setContentType(null),"setRequestHeader"in b&&Le.forEach(r.toJSON(),(function(e,a){b.setRequestHeader(a,e)})),Le.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),m&&"json"!==m&&(b.responseType=i.responseType),u&&([c,d]=ba(u,!0),b.addEventListener("progress",c)),h&&b.upload&&([l,o]=ba(h),b.upload.addEventListener("progress",l),b.upload.addEventListener("loadend",o)),(i.cancelToken||i.signal)&&(s=a=>{b&&(t(!a||a.type?new ua(null,e,b):a),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(s),i.signal&&(i.signal.aborted?s():i.signal.addEventListener("abort",s)));const f=function(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}(i.url);f&&-1===ea.protocols.indexOf(f)?t(new De("Unsupported protocol "+f+":",De.ERR_BAD_REQUEST,e)):b.send(n||null)}))},Ra=(e,a)=>{const{length:t}=e=e?e.filter(Boolean):[];if(a||t){let t,i=new AbortController;const n=function(e){if(!t){t=!0,s();const a=e instanceof Error?e:this.reason;i.abort(a instanceof De?a:new ua(a instanceof Error?a.message:a))}};let r=a&&setTimeout((()=>{r=null,n(new De(`timeout ${a} of ms exceeded`,De.ETIMEDOUT))}),a);const s=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)})),e=null)};e.forEach((e=>e.addEventListener("abort",n)));const{signal:l}=i;return l.unsubscribe=()=>Le.asap(s),l}},Aa=function*(e,a){let t=e.byteLength;if(!a||t<a)return void(yield e);let i,n=0;for(;n<t;)i=n+a,yield e.slice(n,i),n=i},Ta=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const a=e.getReader();try{for(;;){const{done:e,value:t}=await a.read();if(e)break;yield t}}finally{await a.cancel()}},ja=(e,a,t,i)=>{const n=async function*(e,a){for await(const t of Ta(e))yield*Aa(t,a)}(e,a);let r,s=0,l=e=>{r||(r=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:a,value:i}=await n.next();if(a)return l(),void e.close();let r=i.byteLength;if(t){let e=s+=r;t(e)}e.enqueue(new Uint8Array(i))}catch(a){throw l(a),a}},cancel:e=>(l(e),n.return())},{highWaterMark:2})},Pa="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,La=Pa&&"function"==typeof ReadableStream,Da=Pa&&("function"==typeof TextEncoder?(Oa=new TextEncoder,e=>Oa.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Oa;const Ba=(e,...a)=>{try{return!!e(...a)}catch(t){return!1}},Ia=La&&Ba((()=>{let e=!1;const a=new Request(ea.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!a})),_a=La&&Ba((()=>Le.isReadableStream(new Response("").body))),qa={stream:_a&&(e=>e.body)};var za;Pa&&(za=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!qa[e]&&(qa[e]=Le.isFunction(za[e])?a=>a[e]():(a,t)=>{throw new De(`Response type '${e}' is not supported`,De.ERR_NOT_SUPPORT,t)})})));const Ua=async(e,a)=>{const t=Le.toFiniteNumber(e.getContentLength());return null==t?(async e=>{if(null==e)return 0;if(Le.isBlob(e))return e.size;if(Le.isSpecCompliantForm(e)){const a=new Request(ea.origin,{method:"POST",body:e});return(await a.arrayBuffer()).byteLength}return Le.isArrayBufferView(e)||Le.isArrayBuffer(e)?e.byteLength:(Le.isURLSearchParams(e)&&(e+=""),Le.isString(e)?(await Da(e)).byteLength:void 0)})(a):t},Fa={http:null,xhr:Ea,fetch:Pa&&(async e=>{let{url:a,method:t,data:i,signal:n,cancelToken:r,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:o,headers:d,withCredentials:m="same-origin",fetchOptions:h}=ka(e);o=o?(o+"").toLowerCase():"text";let u,p=Ra([n,r&&r.toAbortSignal()],s);const b=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(c&&Ia&&"get"!==t&&"head"!==t&&0!==(g=await Ua(d,i))){let e,t=new Request(a,{method:"POST",body:i,duplex:"half"});if(Le.isFormData(i)&&(e=t.headers.get("content-type"))&&d.setContentType(e),t.body){const[e,a]=ga(g,ba(fa(c)));i=ja(t.body,65536,e,a)}}Le.isString(m)||(m=m?"include":"omit");const n="credentials"in Request.prototype;u=new Request(a,{...h,signal:p,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:n?m:void 0});let r=await fetch(u);const s=_a&&("stream"===o||"response"===o);if(_a&&(l||s&&b)){const e={};["status","statusText","headers"].forEach((a=>{e[a]=r[a]}));const a=Le.toFiniteNumber(r.headers.get("content-length")),[t,i]=l&&ga(a,ba(fa(l),!0))||[];r=new Response(ja(r.body,65536,t,(()=>{i&&i(),b&&b()})),e)}o=o||"text";let f=await qa[Le.findKey(qa,o)||"text"](r,e);return!s&&b&&b(),await new Promise(((a,t)=>{pa(a,t,{data:f,headers:da.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:u})}))}catch(f){if(b&&b(),f&&"TypeError"===f.name&&/Load failed|fetch/i.test(f.message))throw Object.assign(new De("Network Error",De.ERR_NETWORK,e,u),{cause:f.cause||f});throw De.from(f,f&&f.code,e,u)}})};Le.forEach(Fa,((e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch(t){}Object.defineProperty(e,"adapterName",{value:a})}}));const Ga=e=>`- ${e}`,Ma=e=>Le.isFunction(e)||null===e||!1===e,Ha=e=>{e=Le.isArray(e)?e:[e];const{length:a}=e;let t,i;const n={};for(let r=0;r<a;r++){let a;if(t=e[r],i=t,!Ma(t)&&(i=Fa[(a=String(t)).toLowerCase()],void 0===i))throw new De(`Unknown adapter '${a}'`);if(i)break;n[a||"#"+r]=i}if(!i){const e=Object.entries(n).map((([e,a])=>`adapter ${e} `+(!1===a?"is not supported by the environment":"is not available in the build")));throw new De("There is no suitable adapter to dispatch the request "+(a?e.length>1?"since :\n"+e.map(Ga).join("\n"):" "+Ga(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i};function $a(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ua(null,e)}function Va(e){$a(e),e.headers=da.from(e.headers),e.data=ma.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ha(e.adapter||ia.adapter)(e).then((function(a){return $a(e),a.data=ma.call(e,e.transformResponse,a),a.headers=da.from(a.headers),a}),(function(a){return ha(a)||($a(e),a&&a.response&&(a.response.data=ma.call(e,e.transformResponse,a.response),a.response.headers=da.from(a.response.headers))),Promise.reject(a)}))}const Wa="1.9.0",Ja={};["object","boolean","number","function","string","symbol"].forEach(((e,a)=>{Ja[e]=function(t){return typeof t===e||"a"+(a<1?"n ":" ")+e}}));const Ka={};Ja.transitional=function(e,a,t){return(i,n,r)=>{if(!1===e)throw new De(function(e,a){return"[Axios v1.9.0] Transitional option '"+e+"'"+a+(t?". "+t:"")}(n," has been removed"+(a?" in "+a:"")),De.ERR_DEPRECATED);return a&&!Ka[n]&&(Ka[n]=!0),!e||e(i,n,r)}},Ja.spelling=function(e){return(e,a)=>!0};const Qa={assertOptions:function(e,a,t){if("object"!=typeof e)throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let n=i.length;for(;n-- >0;){const r=i[n],s=a[r];if(s){const a=e[r],t=void 0===a||s(a,r,e);if(!0!==t)throw new De("option "+r+" must be "+t,De.ERR_BAD_OPTION_VALUE)}else if(!0!==t)throw new De("Unknown option "+r,De.ERR_BAD_OPTION)}},validators:Ja},Xa=Qa.validators;class Za{constructor(e){this.defaults=e||{},this.interceptors={request:new Ve,response:new Ve}}async request(e,a){try{return await this._request(e,a)}catch(t){if(t instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const a=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?a&&!String(t.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+a):t.stack=a}catch(i){}}throw t}}_request(e,a){"string"==typeof e?(a=a||{}).url=e:a=e||{},a=Sa(this.defaults,a);const{transitional:t,paramsSerializer:i,headers:n}=a;void 0!==t&&Qa.assertOptions(t,{silentJSONParsing:Xa.transitional(Xa.boolean),forcedJSONParsing:Xa.transitional(Xa.boolean),clarifyTimeoutError:Xa.transitional(Xa.boolean)},!1),null!=i&&(Le.isFunction(i)?a.paramsSerializer={serialize:i}:Qa.assertOptions(i,{encode:Xa.function,serialize:Xa.function},!0)),void 0!==a.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Qa.assertOptions(a,{baseUrl:Xa.spelling("baseURL"),withXsrfToken:Xa.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let r=n&&Le.merge(n.common,n[a.method]);n&&Le.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete n[e]})),a.headers=da.concat(r,n);const s=[];let l=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(a)||(l=l&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let o;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let d,m=0;if(!l){const e=[Va.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,c),d=e.length,o=Promise.resolve(a);m<d;)o=o.then(e[m++],e[m++]);return o}d=s.length;let h=a;for(m=0;m<d;){const e=s[m++],a=s[m++];try{h=e(h)}catch(u){a.call(this,u);break}}try{o=Va.call(this,h)}catch(u){return Promise.reject(u)}for(m=0,d=c.length;m<d;)o=o.then(c[m++],c[m++]);return o}getUri(e){return $e(xa((e=Sa(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Le.forEach(["delete","get","head","options"],(function(e){Za.prototype[e]=function(a,t){return this.request(Sa(t||{},{method:e,url:a,data:(t||{}).data}))}})),Le.forEach(["post","put","patch"],(function(e){function a(a){return function(t,i,n){return this.request(Sa(n||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:t,data:i}))}}Za.prototype[e]=a(),Za.prototype[e+"Form"]=a(!0)}));const Ya=Za;class et{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let a;this.promise=new Promise((function(e){a=e}));const t=this;this.promise.then((e=>{if(!t._listeners)return;let a=t._listeners.length;for(;a-- >0;)t._listeners[a](e);t._listeners=null})),this.promise.then=e=>{let a;const i=new Promise((e=>{t.subscribe(e),a=e})).then(e);return i.cancel=function(){t.unsubscribe(a)},i},e((function(e,i,n){t.reason||(t.reason=new ua(e,i,n),a(t.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const a=this._listeners.indexOf(e);-1!==a&&this._listeners.splice(a,1)}toAbortSignal(){const e=new AbortController,a=a=>{e.abort(a)};return this.subscribe(a),e.signal.unsubscribe=()=>this.unsubscribe(a),e.signal}static source(){let e;return{token:new et((function(a){e=a})),cancel:e}}}const at=et;const tt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tt).forEach((([e,a])=>{tt[a]=e}));const it=tt;const nt=function e(a){const t=new Ya(a),i=M(Ya.prototype.request,t);return Le.extend(i,Ya.prototype,t,{allOwnKeys:!0}),Le.extend(i,t,null,{allOwnKeys:!0}),i.create=function(t){return e(Sa(a,t))},i}(ia);nt.Axios=Ya,nt.CanceledError=ua,nt.CancelToken=at,nt.isCancel=ha,nt.VERSION=Wa,nt.toFormData=Ue,nt.AxiosError=De,nt.Cancel=nt.CanceledError,nt.all=function(e){return Promise.all(e)},nt.spread=function(e){return function(a){return e.apply(null,a)}},nt.isAxiosError=function(e){return Le.isObject(e)&&!0===e.isAxiosError},nt.mergeConfig=Sa,nt.AxiosHeaders=da,nt.formToJSON=e=>aa(Le.isHTMLForm(e)?new FormData(e):e),nt.getAdapter=Ha,nt.HttpStatusCode=it,nt.default=nt;const rt=nt.create({baseURL:"http://localhost:5000/api",timeout:1e4,headers:{"Content-Type":"application/json"}});rt.interceptors.request.use((e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization=`Bearer ${a}`),e}),(e=>Promise.reject(e))),rt.interceptors.response.use((e=>e),(e=>{var a;return 401===(null==(a=e.response)?void 0:a.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)}));const st=x.createContext(),lt=({children:a})=>{const[t,i]=x.useState(null),[n,r]=x.useState(!0);x.useEffect((()=>{(async()=>{const e=localStorage.getItem("token"),a=localStorage.getItem("user");if(e&&a)try{rt.defaults.headers.common.Authorization=`Bearer ${e}`;(await rt.get("/auth/verify")).data.valid?i(JSON.parse(a)):s()}catch(t){s()}r(!1)})()}),[]);const s=()=>{i(null),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("authData"),sessionStorage.clear(),delete rt.defaults.headers.common.Authorization};return e(st.Provider,{value:{user:t,loading:n,login:async(e,a)=>{try{s();const{token:t,user:n}=await function({username:e,password:a}){return rt.post("/auth/login",{username:e,password:a}).then((e=>e.data))}({username:e,password:a});return rt.defaults.headers.common.Authorization=`Bearer ${t}`,i(n),localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(n)),n}catch(t){throw s(),t}},logout:()=>{s(),window.location.href="/login"}},children:a})},ct=()=>x.useContext(st),ot=()=>{var c;const{user:o,logout:d}=ct(),m=S(),[h,u]=x.useState(!1);return e(a,{expand:"lg",expanded:h,className:"navbar-light bg-white shadow-sm sticky-top",children:t(i,{children:[t(a.Brand,{as:k,to:"/",className:"d-flex align-items-center",children:[e("img",{src:"/favicon.svg",alt:"Agenda de Dragonas",className:"me-2",style:{height:"40px"}}),e("span",{className:"fw-bold text-primary",children:"Agenda de Dragonas"})]}),e(a.Toggle,{"aria-controls":"basic-navbar-nav",onClick:()=>u(!h&&"expanded")}),e(a.Collapse,{id:"basic-navbar-nav",children:e(n,{className:"ms-auto align-items-center",children:t(r,o?{children:[t(n.Link,{as:k,to:"/dashboard",onClick:()=>u(!1),className:"px-3",children:[e("i",{className:"bi bi-speedometer2 me-1"})," Dashboard"]}),"dragona"===o.role&&t(r,{children:[t(n.Link,{as:k,to:"/citas",onClick:()=>u(!1),className:"px-3",children:[e("i",{className:"bi bi-calendar-check me-1"})," Agenda"]}),t(n.Link,{as:k,to:"/sintomas",onClick:()=>u(!1),className:"px-3",children:[e("i",{className:"bi bi-journal-medical me-1"})," Salud"]})]}),"medico"===o.role&&t(n.Link,{as:k,to:"/doctor",onClick:()=>u(!1),className:"px-3",children:[e("i",{className:"bi bi-clipboard2-pulse me-1"})," Panel Médico"]}),"admin"===o.role&&t(n.Link,{as:k,to:"/admin",onClick:()=>u(!1),className:"px-3",children:[e("i",{className:"bi bi-shield-check me-1"})," Administración"]}),t(n.Link,{as:k,to:"/motivacion",onClick:()=>u(!1),className:"px-3",children:[e("i",{className:"bi bi-heart me-1"})," Motivación"]}),t(n.Link,{as:k,to:"/comunidad",onClick:()=>u(!1),className:"px-3",children:[e("i",{className:"bi bi-people me-1"})," Comunidad"]}),t(s,{align:"end",className:"ms-lg-2",children:[e(s.Toggle,{as:"div",className:"d-flex align-items-center cursor-pointer",children:t("div",{className:"d-flex align-items-center border rounded-pill py-1 px-3 bg-light",children:[t("div",{className:"position-relative me-2",children:[e("div",{className:"rounded-circle bg-primary d-flex align-items-center justify-content-center text-white",style:{width:"32px",height:"32px",fontSize:"14px"},children:(null==(c=o.name)?void 0:c.charAt(0).toUpperCase())||"U"}),e("span",{className:"position-absolute bottom-0 end-0 rounded-circle p-1 border border-white "+("dragona"===o.role?"bg-primary":"bg-success"),style:{width:"10px",height:"10px"}})]}),e("span",{className:"d-none d-md-inline",children:o.name}),e("i",{className:"bi bi-chevron-down ms-2 small"})]})}),t(s.Menu,{className:"shadow border-0 rounded-3 mt-2",children:[t(s.Item,{as:k,to:"/profile",onClick:()=>u(!1),children:[e("i",{className:"bi bi-person me-2"})," Mi Perfil"]}),t(s.Item,{as:k,to:"/settings",onClick:()=>u(!1),children:[e("i",{className:"bi bi-gear me-2"})," Configuración"]}),e(s.Divider,{}),t(s.Item,{onClick:()=>{(async()=>{try{await d(),m("/login")}catch(e){}})(),u(!1)},children:[e("i",{className:"bi bi-box-arrow-right me-2"})," Cerrar Sesión"]})]})]})]}:{children:[e(n.Link,{as:k,to:"/login",onClick:()=>u(!1),className:"px-3",children:"Iniciar Sesión"}),e(l,{as:k,to:"/register",variant:"primary",className:"ms-lg-2 mt-2 mt-lg-0",onClick:()=>u(!1),children:"Registrarse"})]})})})]})})},dt=()=>e("footer",{className:"bg-white text-dark py-3 mt-auto",children:e("div",{className:"container",children:t("div",{className:"row align-items-center",children:[t("div",{className:"col-md-6 d-flex align-items-center",children:[e("img",{src:"siricat.png",alt:"SiriCat",style:{width:"50px",height:"50px",marginRight:"10px"}}),t("div",{children:[e("p",{className:"mb-0",children:"© SiriCat 2025"}),e("p",{className:"mb-0 small",children:e(k,{to:"/politica-privacidad",className:"text-decoration-none",children:"Política de Privacidad"})})]})]}),e("div",{className:"col-md-6 text-md-end",children:t("p",{className:"mb-0",children:["A las mujeres de ",e("a",{href:"/dragon.mp4",target:"_blank",children:"dragonboat de Granada"})," que, ante la adversidad, reman juntas. ",e("br",{}),"Y a ti, cuya alegría y amor a la vida inspiran todo."]})})]})})}),mt=({children:a,role:t})=>{const{user:i,loading:n}=ct();return n?e("div",{className:"text-center py-5",children:"Cargando..."}):i?t&&i.role!==t?e(E,{to:"/dashboard",replace:!0}):a:e(E,{to:"/login",replace:!0})},ht=()=>{const a=S();R();const{user:n,login:s}=ct(),[p,b]=x.useState(""),[g,f]=x.useState(""),[v,y]=x.useState(!1),[N,w]=x.useState(""),[C,E]=x.useState(""),[A,T]=x.useState(!1);x.useEffect((()=>{b(""),f(""),y(!1),w(""),E(""),T(!1);const e=document.getElementById("formUsername"),a=document.getElementById("formPassword");e&&(e.value=""),a&&(a.value="")}),[]),x.useEffect((()=>{n&&("medico"===n.role?a("/doctor"):"admin"===n.role?a("/admin"):a("/dashboard"))}),[n,a]);return t(r,{children:[e("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",zIndex:-1},children:t("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{position:"absolute",top:"50%",left:"50%",width:"100%",height:"100%",objectFit:"cover",transform:"translate(-50%, -50%)"},children:[e("source",{src:"/tinta.mp4",type:"video/mp4"}),"Tu navegador no soporta vídeos en HTML5."]})}),e(i,{className:"py-5",children:e(c,{className:"justify-content-center",children:e(o,{md:6,lg:4,children:e(d,{className:"shadow",children:t(d.Body,{className:"p-4",children:[t("div",{className:"text-center mb-4",children:[e("img",{src:"/favicon.svg",alt:"Logo",width:"60",height:"60"}),e("h2",{className:"mt-3",children:"Iniciar sesión"}),e("p",{className:"text-muted",children:"Agenda Digital de Dragonas"})]}),C&&e(m,{variant:"danger",children:C}),N&&e(m,{variant:"warning",children:N}),t(h,{onSubmit:async e=>{var t,i;if(e.preventDefault(),E(""),w(""),p.trim()&&g)if(A)try{const e=await s(p.trim(),g);"medico"===e.role?a("/doctor"):"admin"===e.role?a("/admin"):a("/dashboard")}catch(n){E((null==(i=null==(t=n.response)?void 0:t.data)?void 0:i.message)||"Credenciales inválidas o error de conexión")}else E("Debes aceptar la política de privacidad.");else E("Usuario y contraseña son obligatorios.")},children:[t(h.Group,{className:"mb-3",controlId:"formUsername",children:[e(h.Label,{children:"Usuario"}),e(h.Control,{type:"text",placeholder:"Escribe tu nombre de usuario",value:p,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",onChange:e=>b(e.target.value),required:!0,isInvalid:!!N}),e(h.Control.Feedback,{type:"invalid",children:N})]}),t(h.Group,{className:"mb-4",controlId:"formPassword",children:[e(h.Label,{children:"Contraseña"}),t(u,{children:[e(h.Control,{type:v?"text":"password",placeholder:"Ingresa tu contraseña",value:g,autoComplete:"new-password",onChange:e=>f(e.target.value),required:!0}),e(l,{variant:"outline-secondary",onClick:()=>y(!v),tabIndex:-1,children:e("i",v?{className:"bi bi-eye-slash"}:{className:"bi bi-eye"})})]})]}),e(h.Group,{className:"mb-3",controlId:"formPrivacy",children:e(h.Check,{type:"checkbox",label:t(r,{children:["Acepto la"," ",e(k,{to:"/politica-privacidad",target:"_blank",children:"política de privacidad"})]}),checked:A,onChange:e=>T(e.target.checked)})}),e("div",{className:"d-grid gap-2",children:e(l,{variant:"primary",type:"submit",size:"lg",disabled:!A,children:"Entrar"})}),t("div",{className:"text-center mt-3",children:[t("p",{children:["¿No tienes cuenta? ",e(k,{to:"/register",children:"Regístrate"})]}),t("p",{children:["¿Eres médico?"," ",e(k,{to:"/register-doctor",children:"Regístrate como Médico"})]})]})]})]})})})})})]})},ut=()=>{const a=S(),[n,s]=x.useState(""),[u,p]=x.useState(""),[b,g]=x.useState(""),[f,v]=x.useState(""),[y,N]=x.useState(""),[w,C]=x.useState(""),[E,R]=x.useState(!1),[A,T]=x.useState(""),[j,P]=x.useState("");return e(i,{className:"py-5",children:e(c,{className:"justify-content-center",children:e(o,{md:8,lg:6,children:e(d,{className:"shadow",children:t(d.Body,{className:"p-4",children:[t("div",{className:"text-center mb-4",children:[e("img",{src:"/favicon.svg",alt:"Logo",width:"60",height:"60"}),e("h2",{className:"mt-3",children:"Únete a Agenda de Dragones"}),e("p",{className:"text-muted",children:"Crea tu cuenta para comenzar tu viaje"})]}),A&&e(m,{variant:"danger",children:A}),j&&e(m,{variant:"success",children:j}),t(h,{onSubmit:async e=>{var t;if(e.preventDefault(),n&&u&&b&&f&&y&&w)if(y===w)if(E){T(""),P("");try{await rt.post("/auth/register",{username:b,email:f,password:y,name:n,lastName:u});P("¡Registro exitoso! Redirigiendo al inicio de sesión..."),setTimeout((()=>{a("/login")}),2e3)}catch(i){const e=null==(t=i.response)?void 0:t.data;T((null==e?void 0:e.message)||"Error en el registro. Intenta nuevamente.")}}else T("Debes aceptar los términos y condiciones.");else T("Las contraseñas no coinciden.");else T("Por favor completa todos los campos.")},children:[t(c,{children:[e(o,{md:6,children:t(h.Group,{className:"mb-3",controlId:"formName",children:[e(h.Label,{children:"Nombre"}),e(h.Control,{type:"text",placeholder:"Ingresa tu nombre",value:n,onChange:e=>s(e.target.value),required:!0})]})}),e(o,{md:6,children:t(h.Group,{className:"mb-3",controlId:"formLastName",children:[e(h.Label,{children:"Apellidos"}),e(h.Control,{type:"text",placeholder:"Ingresa tus apellidos",value:u,onChange:e=>p(e.target.value),required:!0})]})})]}),t(h.Group,{className:"mb-3",controlId:"formUsername",children:[e(h.Label,{children:"Nombre de usuario"}),e(h.Control,{type:"text",autoComplete:"off",placeholder:"Elige un nombre de usuario",value:b,onChange:e=>g(e.target.value),required:!0})]}),t(h.Group,{className:"mb-3",controlId:"formEmail",children:[e(h.Label,{children:"Correo electrónico"}),e(h.Control,{type:"email",placeholder:"Ingresa tu correo electrónico",value:f,onChange:e=>v(e.target.value),required:!0})]}),t(c,{children:[e(o,{md:6,children:t(h.Group,{className:"mb-3",controlId:"formPassword",children:[e(h.Label,{children:"Contraseña"}),e(h.Control,{type:"password",placeholder:"Crea una contraseña",value:y,onChange:e=>N(e.target.value),required:!0})]})}),e(o,{md:6,children:t(h.Group,{className:"mb-3",controlId:"formConfirmPassword",children:[e(h.Label,{children:"Confirmar contraseña"}),e(h.Control,{type:"password",placeholder:"Confirma tu contraseña",value:w,onChange:e=>C(e.target.value),required:!0})]})})]}),e(h.Group,{className:"mb-4",controlId:"termsCheck",children:e(h.Check,{type:"checkbox",label:t(r,{children:["Acepto los"," ",e(k,{to:"/politica-privacidad",target:"_blank",children:"términos y condiciones"})]}),checked:E,onChange:e=>R(e.target.checked),required:!0})}),e("div",{className:"d-grid gap-2",children:e(l,{variant:"primary",type:"submit",size:"lg",children:"Registrarme"})}),e("div",{className:"text-center mt-3",children:t("p",{children:["¿Ya tienes una cuenta? ",e(k,{to:"/login",children:"Inicia sesión"})]})})]})]})})})})})},pt=()=>{const a=S(),[n,s]=x.useState(""),[u,p]=x.useState(""),[b,g]=x.useState(""),[f,v]=x.useState(""),[y,N]=x.useState(""),[w,C]=x.useState(""),[E,R]=x.useState(!1),[A,T]=x.useState(""),[j,P]=x.useState("");return e(i,{className:"py-5",children:e(c,{className:"justify-content-center",children:e(o,{md:8,lg:6,children:e(d,{className:"shadow",children:t(d.Body,{className:"p-4",children:[t("div",{className:"text-center mb-4",children:[e("img",{src:"/favicon.svg",alt:"Logo",width:"60",height:"60"}),e("h2",{className:"mt-3",children:"Registro Médico"}),e("p",{className:"text-muted",children:"Crea tu cuenta de médico"})]}),A&&e(m,{variant:"danger",children:A}),j&&e(m,{variant:"success",children:j}),t(h,{onSubmit:async e=>{var t;if(e.preventDefault(),n&&u&&b&&f&&y&&w)if(y===w)if(E){T(""),P("");try{await rt.post("/auth/register-doctor",{username:b,email:f,password:y,name:n,lastName:u});P("¡Registro de médico exitoso! Redirigiendo al inicio de sesión..."),setTimeout((()=>{a("/login")}),2e3)}catch(i){const e=null==(t=i.response)?void 0:t.data;T((null==e?void 0:e.message)||"Error en el registro de médico. Intenta nuevamente.")}}else T("Debes aceptar los términos y condiciones.");else T("Las contraseñas no coinciden.");else T("Por favor completa todos los campos.")},children:[t(c,{children:[e(o,{md:6,children:t(h.Group,{className:"mb-3",controlId:"formName",children:[e(h.Label,{children:"Nombre"}),e(h.Control,{type:"text",placeholder:"Ingresa tu nombre",value:n,onChange:e=>s(e.target.value),required:!0})]})}),e(o,{md:6,children:t(h.Group,{className:"mb-3",controlId:"formLastName",children:[e(h.Label,{children:"Apellidos"}),e(h.Control,{type:"text",placeholder:"Ingresa tus apellidos",value:u,onChange:e=>p(e.target.value),required:!0})]})})]}),t(h.Group,{className:"mb-3",controlId:"formUsername",children:[e(h.Label,{children:"Nombre de usuario"}),e(h.Control,{type:"text",autoComplete:"off",placeholder:"Elige un nombre de usuario",value:b,onChange:e=>g(e.target.value),required:!0})]}),t(h.Group,{className:"mb-3",controlId:"formEmail",children:[e(h.Label,{children:"Correo electrónico"}),e(h.Control,{type:"email",placeholder:"Ingresa tu correo electrónico",value:f,onChange:e=>v(e.target.value),required:!0})]}),t(c,{children:[e(o,{md:6,children:t(h.Group,{className:"mb-3",controlId:"formPassword",children:[e(h.Label,{children:"Contraseña"}),e(h.Control,{type:"password",placeholder:"Crea una contraseña",value:y,onChange:e=>N(e.target.value),required:!0})]})}),e(o,{md:6,children:t(h.Group,{className:"mb-3",controlId:"formConfirmPassword",children:[e(h.Label,{children:"Confirmar contraseña"}),e(h.Control,{type:"password",placeholder:"Confirma tu contraseña",value:w,onChange:e=>C(e.target.value),required:!0})]})})]}),e(h.Group,{className:"mb-4",controlId:"termsCheck",children:e(h.Check,{type:"checkbox",label:t(r,{children:["Acepto los"," ",e(k,{to:"/politica-privacidad",target:"_blank",children:"términos y condiciones"})]}),checked:E,onChange:e=>R(e.target.checked),required:!0})}),e("div",{className:"d-grid gap-2",children:e(l,{variant:"primary",type:"submit",size:"lg",children:"Registrarme como Médico"})}),e("div",{className:"text-center mt-3",children:t("p",{children:["¿Ya tienes una cuenta? ",e(k,{to:"/login",children:"Inicia sesión"})]})})]})]})})})})})},bt=()=>{const{user:a}=ct(),[n,r]=x.useState(!0),[s,h]=x.useState(null),[u,f]=x.useState({appointments:[],symptoms:[],motivational:[],stats:{totalAppointments:0,completedAppointments:0,symptomsThisMonth:0,averageWellness:0,reflectionsThisWeek:0}}),[v,y]=x.useState([]),[N,w]=x.useState({totalPatients:0,appointmentsToday:0,pendingReviews:0,averagePatientWellness:0});x.useEffect((()=>{C()}),[a]);const C=async()=>{try{if(r(!0),h(null),"medico"===(null==a?void 0:a.role))try{const[e,a,t]=await Promise.all([rt.get("/doctor/patients"),rt.get("/doctor/stats"),rt.get("/appointments?role=doctor")]);y(e.data||[]),w(a.data||{totalPatients:0,appointmentsToday:0,pendingReviews:0,averagePatientWellness:0}),f((e=>({...e,appointments:t.data||[]})))}catch(e){y([]),w({totalPatients:0,appointmentsToday:0,pendingReviews:0,averagePatientWellness:0}),f((e=>({...e,appointments:[]})))}else{if("admin"===(null==a?void 0:a.role))return void(window.location.href="/admin");try{const[e,a,t,i]=await Promise.all([rt.get("/appointments"),rt.get("/symptoms?limit=5"),rt.get("/motivational/recent"),rt.get("/dashboard/stats")]);f({appointments:e.data||[],symptoms:a.data||[],motivational:t.data||[],stats:i.data||{totalAppointments:0,completedAppointments:0,symptomsThisMonth:0,averageWellness:0,reflectionsThisWeek:0}})}catch(e){f({appointments:[],symptoms:[],motivational:[],stats:{totalAppointments:0,completedAppointments:0,symptomsThisMonth:0,averageWellness:0,reflectionsThisWeek:0}})}}}catch(e){h("Error al cargar los datos del dashboard"),f({appointments:[],symptoms:[],motivational:[],stats:{totalAppointments:0,completedAppointments:0,symptomsThisMonth:0,averageWellness:0,reflectionsThisWeek:0}})}finally{r(!1)}},S=e=>new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}),k=e=>e>=8?"success":e>=6?"warning":"danger";return n?t(i,{className:"py-5 text-center",children:[e(p,{animation:"border",role:"status",children:e("span",{className:"visually-hidden",children:"Cargando..."})}),e("p",{className:"mt-3",children:"Cargando tu dashboard..."})]}):s?e(i,{className:"py-5",children:t(m,{variant:"danger",children:[e(m.Heading,{children:"Error"}),e("p",{children:s}),e(l,{variant:"outline-danger",onClick:C,children:"Reintentar"})]})}):"medico"===(null==a?void 0:a.role)?t(i,{className:"py-4",children:[t("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[t("div",{children:[e("h1",{children:"Panel Médico"}),t("p",{className:"text-muted",children:["Bienvenido, Dr. ",a.name]})]}),e(l,{variant:"primary",href:"/doctor",children:"Ver Panel Completo"})]}),t(c,{className:"mb-4",children:[e(o,{md:3,children:e(d,{className:"text-center",children:t(d.Body,{children:[e("h3",{className:"text-primary",children:N.totalPatients}),e("p",{className:"text-muted mb-0",children:"Pacientes Totales"})]})})}),e(o,{md:3,children:e(d,{className:"text-center",children:t(d.Body,{children:[e("h3",{className:"text-success",children:N.appointmentsToday}),e("p",{className:"text-muted mb-0",children:"Citas Hoy"})]})})}),e(o,{md:3,children:e(d,{className:"text-center",children:t(d.Body,{children:[e("h3",{className:"text-warning",children:N.pendingReviews}),e("p",{className:"text-muted mb-0",children:"Revisiones Pendientes"})]})})}),e(o,{md:3,children:e(d,{className:"text-center",children:t(d.Body,{children:[e("h3",{className:"text-info",children:N.averagePatientWellness.toFixed(1)}),e("p",{className:"text-muted mb-0",children:"Bienestar Promedio"})]})})})]}),t(c,{children:[e(o,{md:8,children:t(d,{children:[e(d.Header,{children:e("h5",{className:"mb-0",children:"Pacientes Recientes"})}),e(d.Body,{children:0===v.length?t("div",{className:"text-center py-4",children:[e("p",{className:"text-muted",children:"No tienes pacientes asignados aún."}),e(l,{variant:"outline-primary",href:"/doctor",children:"Gestionar Pacientes"})]}):t(b,{responsive:!0,children:[e("thead",{children:t("tr",{children:[e("th",{children:"Paciente"}),e("th",{children:"Último Registro"}),e("th",{children:"Estado"}),e("th",{children:"Acciones"})]})}),e("tbody",{children:v.slice(0,5).map((a=>t("tr",{children:[t("td",{children:[a.name," ",a.last_name]}),e("td",{children:a.last_symptom_date?S(a.last_symptom_date):"Sin registros"}),e("td",{children:e(g,{bg:k(a.wellness_level||0),children:a.wellness_level?`${a.wellness_level}/10`:"Sin datos"})}),e("td",{children:e(l,{size:"sm",variant:"outline-primary",href:`/doctor/patient/${a.id}`,children:"Ver Detalles"})})]},a.id)))})]})})]})}),e(o,{md:4,children:t(d,{children:[e(d.Header,{children:e("h5",{className:"mb-0",children:"Citas de Hoy"})}),e(d.Body,{children:0===u.appointments.length?e("div",{className:"text-center py-3",children:e("p",{className:"text-muted",children:"No tienes citas programadas para hoy."})}):u.appointments.slice(0,3).map((a=>t("div",{className:"d-flex justify-content-between align-items-center mb-2 p-2 border rounded",children:[t("div",{children:[e("strong",{children:a.patient_name}),e("br",{}),e("small",{className:"text-muted",children:a.time})]}),e(g,{bg:"primary",children:a.type})]},a.id)))})]})})]})]}):t(i,{className:"py-4",children:[t("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[t("div",{children:[e("h1",{children:"Mi Dashboard"}),t("p",{className:"text-muted",children:["Bienvenida, ",a.name]})]}),t("div",{children:[e(l,{variant:"primary",href:"/sintomas",className:"me-2",children:"Registrar Síntomas"}),e(l,{variant:"outline-primary",href:"/motivacion",children:"Centro de Motivación"})]})]}),t(c,{className:"mb-4",children:[e(o,{md:3,children:e(d,{className:"text-center",children:t(d.Body,{children:[e("h3",{className:"text-primary",children:u.stats.totalAppointments}),e("p",{className:"text-muted mb-0",children:"Citas Totales"})]})})}),e(o,{md:3,children:e(d,{className:"text-center",children:t(d.Body,{children:[e("h3",{className:"text-success",children:u.stats.completedAppointments}),e("p",{className:"text-muted mb-0",children:"Citas Completadas"})]})})}),e(o,{md:3,children:e(d,{className:"text-center",children:t(d.Body,{children:[e("h3",{className:"text-warning",children:u.stats.symptomsThisMonth}),e("p",{className:"text-muted mb-0",children:"Síntomas Este Mes"})]})})}),e(o,{md:3,children:e(d,{className:"text-center",children:t(d.Body,{children:[e("h3",{className:"text-info",children:u.stats.averageWellness.toFixed(1)}),e("p",{className:"text-muted mb-0",children:"Bienestar Promedio"})]})})})]}),t(c,{children:[e(o,{md:6,children:t(d,{className:"mb-4",children:[e(d.Header,{children:e("h5",{className:"mb-0",children:"Próximas Citas"})}),t(d.Body,{children:[0===u.appointments.length?t("div",{className:"text-center py-4",children:[e("p",{className:"text-muted",children:"No tienes citas programadas."}),e(l,{variant:"outline-primary",href:"/citas",children:"Programar Cita"})]}):u.appointments.slice(0,3).map((a=>t("div",{className:"d-flex justify-content-between align-items-center mb-3 p-3 border rounded",children:[t("div",{children:[e("strong",{children:a.title}),e("br",{}),t("small",{className:"text-muted",children:[S(a.date)," - ",a.time]}),e("br",{}),t("small",{className:"text-muted",children:["Dr. ",a.doctor_name]})]}),e(g,{bg:"primary",children:a.type})]},a.id))),u.appointments.length>3&&e("div",{className:"text-center",children:e(l,{variant:"outline-primary",size:"sm",href:"/citas",children:"Ver Todas las Citas"})})]})]})}),e(o,{md:6,children:t(d,{className:"mb-4",children:[e(d.Header,{children:e("h5",{className:"mb-0",children:"Síntomas Recientes"})}),t(d.Body,{children:[0===u.symptoms.length?t("div",{className:"text-center py-4",children:[e("p",{className:"text-muted",children:"No has registrado síntomas aún."}),e(l,{variant:"outline-primary",href:"/sintomas",children:"Registrar Síntomas"})]}):u.symptoms.map((a=>t("div",{className:"mb-3 p-3 border rounded",children:[t("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e("strong",{children:S(a.date)}),t(g,{bg:k(a.overall_wellness||0),children:["Bienestar: ",a.overall_wellness||0,"/10"]})]}),t("div",{className:"row",children:[e("div",{className:"col-6",children:t("small",{className:"text-muted",children:["Dolor: ",a.pain_level||0,"/10"]})}),e("div",{className:"col-6",children:t("small",{className:"text-muted",children:["Fatiga: ",a.fatigue_level||0,"/10"]})})]}),a.notes&&t("small",{className:"text-muted d-block mt-1",children:[a.notes.substring(0,50),"..."]})]},a.id))),u.symptoms.length>0&&e("div",{className:"text-center",children:e(l,{variant:"outline-primary",size:"sm",href:"/sintomas",children:"Ver Historial Completo"})})]})]})})]}),e(c,{children:e(o,{md:12,children:t(d,{children:[e(d.Header,{children:e("h5",{className:"mb-0",children:"Centro de Motivación"})}),t(d.Body,{children:[0===u.motivational.length?t("div",{className:"text-center py-4",children:[e("p",{className:"text-muted",children:"No has creado reflexiones aún."}),e(l,{variant:"outline-primary",href:"/motivacion",children:"Crear Primera Reflexión"})]}):e(c,{children:u.motivational.slice(0,3).map((a=>e(o,{md:4,children:t("div",{className:"p-3 border rounded mb-3",children:[t("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e("strong",{children:S(a.date)}),t(g,{bg:"info",children:["Ánimo: ",a.mood||0,"/10"]})]}),a.gratitude&&t("p",{className:"text-muted mb-1",children:[e("strong",{children:"Gratitud:"})," ",a.gratitude.substring(0,50),"..."]}),a.achievement&&t("p",{className:"text-muted mb-0",children:[e("strong",{children:"Logro:"})," ",a.achievement.substring(0,50),"..."]})]})},a.id)))}),u.motivational.length>3&&e("div",{className:"text-center",children:e(l,{variant:"outline-primary",size:"sm",href:"/motivacion",children:"Ver Todas las Reflexiones"})})]})]})})})]})},gt=()=>{var s,u;const b=S(),{user:N,logout:w}=ct(),[C,E]=x.useState([]),[R,A]=x.useState(!0),[T,j]=x.useState(""),[P,L]=x.useState(null),[D,O]=x.useState(!1),[B,I]=x.useState(""),[_,q]=x.useState(""),[z,U]=x.useState(!1),[F,G]=x.useState(!1),[M,H]=x.useState(""),[$,V]=x.useState(""),[W,J]=x.useState([]),[K,Q]=x.useState(!1),[X,Z]=x.useState(null),[Y,ee]=x.useState(""),[ae,te]=x.useState(!1),[ie,ne]=x.useState([]),[re,se]=x.useState(!0);x.useEffect((()=>{(async()=>{A(!0),j("");try{await new Promise((e=>setTimeout(e,800)));const e=[{id:1,name:"Ana",lastName:"García",email:"ana.garcia@ejemplo.com",relationId:101,lastActivity:new Date(Date.now()-1728e5).toISOString(),status:"active",symptomsCount:12,questionsCount:2,progress:75},{id:2,name:"María",lastName:"López",email:"maria.lopez@ejemplo.com",relationId:102,lastActivity:new Date(Date.now()-432e6).toISOString(),status:"active",symptomsCount:8,questionsCount:0,progress:60},{id:3,name:"Carmen",lastName:"Martínez",email:"carmen.martinez@ejemplo.com",relationId:103,lastActivity:new Date(Date.now()-10368e5).toISOString(),status:"inactive",symptomsCount:3,questionsCount:1,progress:40},{id:4,name:"Laura",lastName:"Sánchez",email:"laura.sanchez@ejemplo.com",relationId:104,lastActivity:new Date(Date.now()-864e5).toISOString(),status:"active",symptomsCount:15,questionsCount:0,progress:85}];E(e),J(e)}catch(e){j("No se pudo cargar la lista de pacientes.")}finally{A(!1)}})(),le()}),[]);const le=async()=>{se(!0);try{await new Promise((e=>setTimeout(e,1e3)));ne([{id:1,patientId:1,patientName:"Ana García",question:"¿Es normal sentir dolor de cabeza después de la quimioterapia?",createdAt:"2025-06-01T14:30:00Z",isAnswered:!1},{id:2,patientId:3,patientName:"Carmen Martínez",question:"¿Puedo hacer ejercicio moderado durante el tratamiento?",createdAt:"2025-05-29T10:15:00Z",isAnswered:!1},{id:3,patientId:1,patientName:"Ana García",question:"¿Cuándo debería programar mi próxima mamografía?",createdAt:"2025-05-27T16:45:00Z",isAnswered:!1}])}catch(e){}finally{se(!1)}};x.useEffect((()=>{if(!$.trim())return void J(C);const e=$.toLowerCase(),a=C.filter((a=>{var t,i,n,r;return(null==(t=a.name)?void 0:t.toLowerCase().includes(e))||(null==(i=a.lastName)?void 0:i.toLowerCase().includes(e))||(null==(n=a.email)?void 0:n.toLowerCase().includes(e))||(null==(r=a.id)?void 0:r.toString().includes(e))}));J(a)}),[$,C]);const ce=async e=>{if(e.preventDefault(),B&&_){U(!0),G(!1),H("");try{await new Promise((e=>setTimeout(e,1e3))),G(!0),setTimeout((()=>{O(!1),I(""),q(""),G(!1)}),2e3)}catch(a){H("No se pudo enviar la invitación. Inténtalo de nuevo.")}finally{U(!1)}}},oe=e=>{Z(e),ee(""),Q(!0)},de=e=>{const a=new Date(e),t=new Date,i=Math.floor((t-a)/864e5);return 0===i?"Hoy":1===i?"Ayer":i<7?`Hace ${i} días`:i<30?`Hace ${Math.floor(i/7)} semanas`:`Hace ${Math.floor(i/30)} meses`};return t("div",{className:"doctor-dashboard",children:[e(a,{bg:"primary",variant:"dark",expand:"lg",className:"doctor-navbar",children:t(i,{fluid:!0,children:[e(a.Brand,{href:"#home",children:"Panel Médico"}),e(a.Toggle,{"aria-controls":"basic-navbar-nav"}),t(a.Collapse,{id:"basic-navbar-nav",children:[t(n,{className:"me-auto",children:[e(n.Link,{as:k,to:"/doctor",active:!0,children:"Inicio"}),e(n.Link,{as:k,to:"/profile",children:"Perfil"})]}),e(n,{children:t(f,{title:t("span",{children:[e("i",{className:"bi bi-person-circle me-1"}),(null==N?void 0:N.name)||"Usuario"]}),id:"basic-nav-dropdown",align:"end",children:[e(f.Item,{as:k,to:"/profile",children:"Mi Perfil"}),e(f.Divider,{}),t(f.Item,{onClick:async()=>{try{await w(),b("/login")}catch(e){}},children:[e("i",{className:"bi bi-box-arrow-right me-2"}),"Cerrar Sesión"]})]})})]})]})}),t(i,{fluid:!0,className:"py-4",children:[e(c,{className:"mb-4",children:e(o,{lg:12,children:e(d,{className:"border-0 shadow-sm",children:e(d.Body,{className:"p-4",children:t(c,{className:"align-items-center",children:[t(o,{md:7,children:[t("h1",{className:"doctor-title mb-2",children:["Bienvenido/a, Dr. ",(null==N?void 0:N.name)||"Usuario"]}),e("p",{className:"text-muted",children:"Gestiona tus pacientes, responde a sus preguntas y revisa su progreso."})]}),e(o,{md:5,children:e("div",{className:"d-flex justify-content-md-end mt-3 mt-md-0",children:t(l,{variant:"primary",className:"invite-btn",onClick:()=>O(!0),children:[e("i",{className:"bi bi-person-plus-fill me-2"}),"Invitar paciente"]})})})]})})})})}),e(c,{className:"mb-4",children:e(o,{lg:12,children:t(d,{className:"border-0 shadow-sm",children:[e(d.Header,{className:"bg-white border-0 p-4",children:t("div",{className:"d-flex justify-content-between align-items-center",children:[e("h5",{className:"mb-0",children:"Preguntas pendientes"}),e(g,{bg:"warning",pill:!0,className:"px-3 py-2",children:ie.length})]})}),e(d.Body,{className:"p-0",children:re?t("div",{className:"text-center py-4",children:[e(p,{animation:"border",variant:"primary"}),e("p",{className:"text-muted mt-2",children:"Cargando preguntas..."})]}):0===ie.length?t("div",{className:"text-center py-4",children:[e("i",{className:"bi bi-check-circle",style:{fontSize:"2rem",color:"#28a745"}}),e("p",{className:"text-muted mt-2",children:"No hay preguntas pendientes."})]}):e("div",{className:"pending-questions-list",children:ie.map((a=>e("div",{className:"pending-question-item p-3 border-bottom",children:t("div",{className:"d-flex justify-content-between align-items-start",children:[t("div",{children:[e("h6",{className:"mb-1",children:a.question}),t("p",{className:"text-muted small mb-0",children:[e("span",{className:"fw-bold",children:a.patientName})," - ",de(a.createdAt)]})]}),t(l,{variant:"outline-primary",size:"sm",onClick:()=>oe(a),children:[e("i",{className:"bi bi-reply me-1"})," Responder"]})]})},a.id)))})}),ie.length>0&&e(d.Footer,{className:"bg-white border-0 p-3 text-center",children:t(l,{variant:"primary",onClick:()=>oe(ie[0]),children:[e("i",{className:"bi bi-chat-dots me-2"}),"Responder preguntas"]})})]})})}),t(c,{children:[e(o,{lg:4,className:"mb-4 mb-lg-0",children:t(d,{className:"border-0 shadow-sm h-100",children:[t(d.Header,{className:"bg-white border-0 pt-4 pb-0 px-4",children:[t("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e("h5",{className:"mb-0",children:"Mis Pacientes"}),e(g,{bg:"primary",pill:!0,className:"px-3 py-2",children:W.length})]}),e(h.Group,{className:"mb-3",children:e(h.Control,{type:"text",placeholder:"Buscar paciente...",value:$,onChange:e=>V(e.target.value),className:"search-input"})})]}),e(d.Body,{className:"patient-list-container px-2 pt-0",children:R?t("div",{className:"text-center py-5",children:[e(p,{animation:"border",variant:"primary"}),e("p",{className:"text-muted mt-2",children:"Cargando pacientes..."})]}):T?e(m,{variant:"danger",className:"m-3",children:T}):0===W.length?t("div",{className:"text-center py-5",children:[e("i",{className:"bi bi-search text-muted",style:{fontSize:"2rem"}}),e("p",{className:"text-muted mt-2",children:"No se encontraron pacientes"}),e(l,{variant:"primary",size:"sm",onClick:()=>O(!0),children:"Invitar nueva paciente"})]}):e("div",{className:"patient-list",children:W.map((a=>{var i,n;return e(d,{onClick:()=>{L(a)},className:"patient-card mb-2 mx-2 "+((null==P?void 0:P.id)===a.id?"active":""),children:e(d.Body,{className:"py-2 px-3",children:t("div",{className:"d-flex align-items-center",children:[t("div",{className:"patient-avatar me-3",children:[a.avatar?e("img",{src:a.avatar,alt:a.name,className:"rounded-circle"}):t("div",{className:"avatar-placeholder",children:[null==(i=a.name)?void 0:i.charAt(0),null==(n=a.lastName)?void 0:n.charAt(0)]}),e("span",{className:"status-indicator "+("active"===a.status?"active":"inactive")})]}),t("div",{className:"patient-info",children:[t("h6",{className:"mb-0",children:[a.name," ",a.lastName]}),t("small",{className:"text-muted d-block",children:["Última actividad: ",de(a.lastActivity)]})]}),t("div",{className:"ms-auto text-end",children:[t(g,{bg:a.symptomsCount>0?"danger":"secondary",className:"me-1",title:"Síntomas registrados",children:[e("i",{className:"bi bi-activity me-1"}),a.symptomsCount]}),t(g,{bg:a.questionsCount>0?"warning":"secondary",title:"Preguntas pendientes",children:[e("i",{className:"bi bi-question-circle me-1"}),a.questionsCount]})]})]})})},a.id)}))})}),e(d.Footer,{className:"bg-white border-0 p-3",children:t(l,{variant:"primary",className:"w-100",onClick:()=>O(!0),children:[e("i",{className:"bi bi-person-plus me-2"}),"Invitar nueva paciente"]})})]})}),e(o,{lg:8,children:P?t(d,{className:"border-0 shadow-sm h-100",children:[t(d.Header,{className:"bg-white border-0 p-4",children:[t("div",{className:"d-flex justify-content-between align-items-center",children:[t("div",{className:"d-flex align-items-center",children:[t("div",{className:"patient-avatar-lg me-3",children:[P.avatar?e("img",{src:P.avatar,alt:P.name,className:"rounded-circle"}):t("div",{className:"avatar-placeholder-lg",children:[null==(s=P.name)?void 0:s.charAt(0),null==(u=P.lastName)?void 0:u.charAt(0)]}),e("span",{className:"status-indicator "+("active"===P.status?"active":"inactive")})]}),t("div",{children:[t("h4",{className:"mb-0",children:[P.name," ",P.lastName]}),t("p",{className:"text-muted mb-0",children:[e("i",{className:"bi bi-envelope me-1"})," ",P.email||"No disponible"]})]})]}),t(l,{variant:"primary",onClick:()=>{alert(`Ver síntomas de ${P.name} ${P.lastName}`)},children:[e("i",{className:"bi bi-activity me-2"}),"Ver síntomas"]})]}),t("div",{className:"mt-3",children:[t("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e("span",{children:"Progreso general"}),t("span",{className:"text-primary",children:[P.progress,"%"]})]}),e(v,{now:P.progress,variant:"primary",className:"progress-bar-custom"})]})]}),t(d.Body,{className:"p-4",children:[t(c,{children:[e(o,{md:6,className:"mb-4",children:e(d,{className:"border-0 shadow-sm h-100",children:t(d.Body,{children:[e("h5",{className:"mb-3",children:"Resumen de síntomas"}),t("div",{className:"d-flex align-items-center mb-3",children:[e("div",{className:"stat-icon bg-danger-soft text-danger me-3",children:e("i",{className:"bi bi-activity"})}),t("div",{children:[e("h6",{className:"mb-0",children:"Total de síntomas registrados"}),e("h3",{className:"mb-0",children:P.symptomsCount})]})]}),t(l,{variant:"outline-primary",className:"w-100",onClick:()=>{alert(`Ver síntomas de ${P.name} ${P.lastName}`)},children:[e("i",{className:"bi bi-graph-up me-2"}),"Ver historial completo"]})]})})}),e(o,{md:6,className:"mb-4",children:e(d,{className:"border-0 shadow-sm h-100",children:t(d.Body,{children:[e("h5",{className:"mb-3",children:"Preguntas pendientes"}),P.questionsCount>0?t(r,{children:[t("div",{className:"d-flex align-items-center mb-3",children:[e("div",{className:"stat-icon bg-warning-soft text-warning me-3",children:e("i",{className:"bi bi-question-circle"})}),t("div",{children:[e("h6",{className:"mb-0",children:"Preguntas sin responder"}),e("h3",{className:"mb-0",children:P.questionsCount})]})]}),t(l,{variant:"outline-primary",className:"w-100",onClick:()=>{const e=ie.filter((e=>e.patientId===P.id));e.length>0?oe(e[0]):alert("No se encontraron preguntas pendientes para esta paciente.")},children:[e("i",{className:"bi bi-reply me-2"}),"Responder preguntas"]})]}):t("div",{className:"text-center py-4",children:[e("i",{className:"bi bi-check-circle",style:{fontSize:"2rem",color:"#28a745"}}),e("p",{className:"text-muted mt-2",children:"No hay preguntas pendientes de esta paciente."})]})]})})})]}),e(c,{children:e(o,{md:12,children:e(d,{className:"border-0 shadow-sm",children:t(d.Body,{children:[e("h5",{className:"mb-3",children:"Notas clínicas"}),t(h,{children:[e(h.Group,{className:"mb-3",children:e(h.Control,{as:"textarea",rows:3,placeholder:"Añade notas clínicas privadas sobre esta paciente..."})}),e("div",{className:"text-end",children:t(l,{variant:"primary",children:[e("i",{className:"bi bi-save me-1"})," Guardar notas"]})})]})]})})})})]})]}):e(d,{className:"border-0 shadow-sm h-100",children:t(d.Body,{className:"d-flex flex-column align-items-center justify-content-center text-center p-5",children:[e("div",{className:"empty-state-icon mb-4",children:e("i",{className:"bi bi-person-circle"})}),e("h4",{children:"Selecciona una paciente"}),e("p",{className:"text-muted mb-4",children:"Selecciona una paciente de la lista para ver sus detalles, síntomas y estadísticas."}),t(l,{variant:"primary",onClick:()=>O(!0),children:[e("i",{className:"bi bi-person-plus me-2"}),"Invitar nueva paciente"]})]})})})]})]}),t(y,{show:D,onHide:()=>{z||(O(!1),I(""),q(""),H(""),G(!1))},centered:!0,children:[e(y.Header,{closeButton:!0,children:e(y.Title,{children:"Invitar nueva paciente"})}),e(y.Body,{children:F?e(m,{variant:"success",children:t("div",{className:"text-center py-3",children:[e("i",{className:"bi bi-check-circle",style:{fontSize:"3rem"}}),e("h5",{className:"mt-3",children:"¡Invitación enviada!"}),t("p",{className:"mb-0",children:["Se ha enviado un enlace de registro a ",B,"."]})]})}):t(h,{onSubmit:ce,children:[M&&e(m,{variant:"danger",children:M}),t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Nombre de la paciente"}),e(h.Control,{type:"text",placeholder:"Ej. María García",value:_,onChange:e=>q(e.target.value),required:!0,disabled:z})]}),t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Correo electrónico"}),e(h.Control,{type:"email",placeholder:"ejemplo@correo.com",value:B,onChange:e=>I(e.target.value),required:!0,disabled:z}),e(h.Text,{className:"text-muted",children:"Se enviará un enlace de registro a este correo electrónico."})]}),t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Mensaje personalizado (opcional)"}),e(h.Control,{as:"textarea",rows:3,placeholder:"Añade un mensaje personalizado a la invitación...",disabled:z})]})]})}),t(y.Footer,{children:[!F&&t(r,{children:[e(l,{variant:"secondary",onClick:()=>O(!1),disabled:z,children:"Cancelar"}),e(l,{variant:"primary",onClick:ce,disabled:z||!B||!_,children:t(r,z?{children:[e(p,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),"Enviando..."]}:{children:[e("i",{className:"bi bi-envelope me-2"}),"Enviar invitación"]})})]}),F&&e(l,{variant:"primary",onClick:()=>{O(!1),I(""),q(""),G(!1)},children:"Cerrar"})]})]}),t(y,{show:K,onHide:()=>{ae||(Q(!1),Z(null),ee(""))},centered:!0,children:[e(y.Header,{closeButton:!0,children:e(y.Title,{children:"Responder pregunta"})}),e(y.Body,{children:X&&t(r,{children:[t("div",{className:"question-container p-3 bg-light rounded mb-3",children:[e("h6",{className:"mb-1",children:X.question}),t("p",{className:"text-muted small mb-0",children:[e("span",{className:"fw-bold",children:X.patientName})," - ",de(X.createdAt)]})]}),t(h.Group,{children:[e(h.Label,{children:"Tu respuesta"}),e(h.Control,{as:"textarea",rows:4,value:Y,onChange:e=>ee(e.target.value),placeholder:"Escribe tu respuesta aquí...",disabled:ae})]})]})}),t(y.Footer,{children:[e(l,{variant:"secondary",onClick:()=>Q(!1),disabled:ae,children:"Cancelar"}),e(l,{variant:"primary",onClick:async()=>{if(Y.trim()&&X){te(!0);try{await new Promise((e=>setTimeout(e,800)));const e=ie.filter((e=>e.id!==X.id));ne(e),Q(!1),Z(null),ee("")}catch(e){alert("Error al guardar la respuesta")}finally{te(!1)}}},disabled:ae||!Y.trim(),children:ae?t(r,{children:[e(p,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),"Enviando..."]}):"Enviar respuesta"})]})]})]})},ft=()=>{const{user:a}=ct(),[i,n]=x.useState("overview"),[r,s]=x.useState({totalUsers:0,totalDragonas:0,totalDoctors:0,totalAppointments:0,totalSymptoms:0,activeUsers:0}),[l,c]=x.useState([]),[o,d]=x.useState([]),[m,h]=x.useState(!0),[u,p]=x.useState(null),[b,g]=x.useState(!1),[f,v]=x.useState(!1),[y,N]=x.useState({name:"",description:"",category:"apoyo",isPrivate:!1});x.useEffect((()=>{"admin"===(null==a?void 0:a.role)&&w()}),[a]);const w=async()=>{try{h(!0);const[e,a,t]=await Promise.all([rt.get("/admin/stats"),rt.get("/admin/users"),rt.get("/admin/groups")]);s(e.data),c(a.data),d(t.data)}catch(e){}finally{h(!1)}},C=async e=>{if(window.confirm("¿Está seguro de eliminar este usuario? Esta acción no se puede deshacer."))try{await rt.delete(`/admin/users/${e}`),c(l.filter((a=>a.id!==e))),g(!1)}catch(a){}};return"admin"!==(null==a?void 0:a.role)?e("div",{className:"container mt-5",children:t("div",{className:"alert alert-danger",children:[e("h4",{children:"Acceso Denegado"}),e("p",{children:"No tienes permisos para acceder al panel de administración."})]})}):m?e("div",{className:"container mt-5",children:e("div",{className:"d-flex justify-content-center",children:e("div",{className:"spinner-border text-primary",role:"status",children:e("span",{className:"visually-hidden",children:"Cargando..."})})})}):t("div",{className:"container-fluid mt-4",children:[t("div",{className:"row",children:[e("div",{className:"col-md-3",children:t("div",{className:"card",children:[e("div",{className:"card-header",children:e("h5",{className:"mb-0",children:"Panel de Administración"})}),t("div",{className:"list-group list-group-flush",children:[t("button",{className:"list-group-item list-group-item-action "+("overview"===i?"active":""),onClick:()=>n("overview"),children:[e("i",{className:"bi bi-graph-up me-2"}),"Resumen General"]}),t("button",{className:"list-group-item list-group-item-action "+("users"===i?"active":""),onClick:()=>n("users"),children:[e("i",{className:"bi bi-people me-2"}),"Gestión de Usuarios"]}),t("button",{className:"list-group-item list-group-item-action "+("groups"===i?"active":""),onClick:()=>n("groups"),children:[e("i",{className:"bi bi-collection me-2"}),"Gestión de Grupos"]}),t("button",{className:"list-group-item list-group-item-action "+("reports"===i?"active":""),onClick:()=>n("reports"),children:[e("i",{className:"bi bi-file-earmark-text me-2"}),"Reportes y Estadísticas"]})]})]})}),t("div",{className:"col-md-9",children:["overview"===i&&t("div",{children:[e("h2",{className:"mb-4",children:"Resumen General del Sistema"}),t("div",{className:"row",children:[e("div",{className:"col-md-4 mb-3",children:e("div",{className:"card bg-primary text-white",children:e("div",{className:"card-body",children:t("div",{className:"d-flex justify-content-between",children:[t("div",{children:[e("h4",{children:r.totalUsers}),e("p",{className:"mb-0",children:"Total Usuarios"})]}),e("i",{className:"bi bi-people fs-1"})]})})})}),e("div",{className:"col-md-4 mb-3",children:e("div",{className:"card bg-success text-white",children:e("div",{className:"card-body",children:t("div",{className:"d-flex justify-content-between",children:[t("div",{children:[e("h4",{children:r.totalDragonas}),e("p",{className:"mb-0",children:"Dragonas"})]}),e("i",{className:"bi bi-person-heart fs-1"})]})})})}),e("div",{className:"col-md-4 mb-3",children:e("div",{className:"card bg-info text-white",children:e("div",{className:"card-body",children:t("div",{className:"d-flex justify-content-between",children:[t("div",{children:[e("h4",{children:r.totalDoctors}),e("p",{className:"mb-0",children:"Médicos"})]}),e("i",{className:"bi bi-person-badge fs-1"})]})})})}),e("div",{className:"col-md-4 mb-3",children:e("div",{className:"card bg-warning text-white",children:e("div",{className:"card-body",children:t("div",{className:"d-flex justify-content-between",children:[t("div",{children:[e("h4",{children:r.totalAppointments}),e("p",{className:"mb-0",children:"Citas Totales"})]}),e("i",{className:"bi bi-calendar-check fs-1"})]})})})}),e("div",{className:"col-md-4 mb-3",children:e("div",{className:"card bg-danger text-white",children:e("div",{className:"card-body",children:t("div",{className:"d-flex justify-content-between",children:[t("div",{children:[e("h4",{children:r.totalSymptoms}),e("p",{className:"mb-0",children:"Síntomas Registrados"})]}),e("i",{className:"bi bi-heart-pulse fs-1"})]})})})}),e("div",{className:"col-md-4 mb-3",children:e("div",{className:"card bg-secondary text-white",children:e("div",{className:"card-body",children:t("div",{className:"d-flex justify-content-between",children:[t("div",{children:[e("h4",{children:r.activeUsers}),e("p",{className:"mb-0",children:"Usuarios Activos"})]}),e("i",{className:"bi bi-person-check fs-1"})]})})})})]})]}),"users"===i&&t("div",{children:[t("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e("h2",{children:"Gestión de Usuarios"}),t("button",{className:"btn btn-primary",onClick:()=>window.location.href="/register",children:[e("i",{className:"bi bi-plus-circle me-2"}),"Nuevo Usuario"]})]}),e("div",{className:"card",children:e("div",{className:"card-body",children:e("div",{className:"table-responsive",children:t("table",{className:"table table-hover",children:[e("thead",{children:t("tr",{children:[e("th",{children:"ID"}),e("th",{children:"Usuario"}),e("th",{children:"Email"}),e("th",{children:"Nombre"}),e("th",{children:"Rol"}),e("th",{children:"Estado"}),e("th",{children:"Último Acceso"}),e("th",{children:"Acciones"})]})}),e("tbody",{children:l.map((a=>t("tr",{children:[e("td",{children:a.id}),e("td",{children:a.username}),e("td",{children:a.email}),t("td",{children:[a.name," ",a.last_name]}),e("td",{children:e("span",{className:"badge "+("admin"===a.role?"bg-danger":"medico"===a.role?"bg-info":"bg-success"),children:a.role})}),e("td",{children:e("span",{className:"badge "+(a.is_active?"bg-success":"bg-secondary"),children:a.is_active?"Activo":"Inactivo"})}),e("td",{children:a.last_login?new Date(a.last_login).toLocaleDateString():"Nunca"}),e("td",{children:t("div",{className:"btn-group btn-group-sm",children:[e("button",{className:"btn btn-outline-primary",onClick:()=>{p(a),g(!0)},children:e("i",{className:"bi bi-eye"})}),e("button",{className:"btn "+(a.is_active?"btn-outline-warning":"btn-outline-success"),onClick:()=>(async(e,a)=>{try{await rt.patch(`/admin/users/${e}`,{is_active:a}),c(l.map((t=>t.id===e?{...t,is_active:a}:t)))}catch(t){}})(a.id,!a.is_active),children:e("i",{className:"bi "+(a.is_active?"bi-pause":"bi-play")})}),"admin"!==a.role&&e("button",{className:"btn btn-outline-danger",onClick:()=>C(a.id),children:e("i",{className:"bi bi-trash"})})]})})]},a.id)))})]})})})})]}),"groups"===i&&t("div",{children:[t("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e("h2",{children:"Gestión de Grupos de Comunidad"}),t("button",{className:"btn btn-primary",onClick:()=>v(!0),children:[e("i",{className:"bi bi-plus-circle me-2"}),"Crear Grupo"]})]}),e("div",{className:"row",children:o.map((a=>e("div",{className:"col-md-6 mb-3",children:e("div",{className:"card",children:e("div",{className:"card-body",children:t("div",{className:"d-flex justify-content-between align-items-start",children:[t("div",{children:[e("h5",{className:"card-title",children:a.name}),e("p",{className:"card-text text-muted",children:a.description}),t("div",{className:"d-flex gap-2",children:[e("span",{className:"badge bg-primary",children:a.category}),e("span",{className:"badge "+(a.isPrivate?"bg-warning":"bg-success"),children:a.isPrivate?"Privado":"Público"}),t("span",{className:"badge bg-info",children:[a.memberCount||0," miembros"]})]})]}),t("div",{className:"dropdown",children:[e("button",{className:"btn btn-outline-secondary btn-sm","data-bs-toggle":"dropdown",children:e("i",{className:"bi bi-three-dots-vertical"})}),t("ul",{className:"dropdown-menu",children:[e("li",{children:t("button",{className:"dropdown-item",onClick:()=>{},children:[e("i",{className:"bi bi-pencil me-2"}),"Editar"]})}),e("li",{children:t("button",{className:"dropdown-item",onClick:()=>{},children:[e("i",{className:"bi bi-people me-2"}),"Ver Miembros"]})}),e("li",{children:e("hr",{className:"dropdown-divider"})}),e("li",{children:t("button",{className:"dropdown-item text-danger",onClick:()=>(async e=>{if(window.confirm("¿Está seguro de eliminar este grupo?"))try{await rt.delete(`/admin/groups/${e}`),d(o.filter((a=>a.id!==e)))}catch(a){}})(a.id),children:[e("i",{className:"bi bi-trash me-2"}),"Eliminar"]})})]})]})]})})})},a.id)))})]}),"reports"===i&&t("div",{children:[e("h2",{className:"mb-4",children:"Reportes y Estadísticas"}),t("div",{className:"row",children:[e("div",{className:"col-md-6 mb-4",children:t("div",{className:"card",children:[e("div",{className:"card-header",children:e("h5",{children:"Actividad de Usuarios"})}),t("div",{className:"card-body",children:[t("p",{children:["Usuarios registrados en los últimos 30 días: ",e("strong",{children:"12"})]}),t("p",{children:["Usuarios activos en los últimos 7 días: ",e("strong",{children:"8"})]}),t("p",{children:["Promedio de sesiones por usuario: ",e("strong",{children:"3.2"})]})]})]})}),e("div",{className:"col-md-6 mb-4",children:t("div",{className:"card",children:[e("div",{className:"card-header",children:e("h5",{children:"Uso de Funcionalidades"})}),t("div",{className:"card-body",children:[t("p",{children:["Síntomas registrados esta semana: ",e("strong",{children:"45"})]}),t("p",{children:["Citas programadas este mes: ",e("strong",{children:"23"})]}),t("p",{children:["Reflexiones diarias completadas: ",e("strong",{children:"67"})]})]})]})})]})]})]})]}),b&&u&&e("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e("div",{className:"modal-dialog modal-lg",children:t("div",{className:"modal-content",children:[t("div",{className:"modal-header",children:[e("h5",{className:"modal-title",children:"Detalles del Usuario"}),e("button",{type:"button",className:"btn-close",onClick:()=>g(!1)})]}),e("div",{className:"modal-body",children:t("div",{className:"row",children:[t("div",{className:"col-md-6",children:[t("p",{children:[e("strong",{children:"ID:"})," ",u.id]}),t("p",{children:[e("strong",{children:"Usuario:"})," ",u.username]}),t("p",{children:[e("strong",{children:"Email:"})," ",u.email]}),t("p",{children:[e("strong",{children:"Nombre:"})," ",u.name," ",u.last_name]})]}),t("div",{className:"col-md-6",children:[t("p",{children:[e("strong",{children:"Rol:"})," ",u.role]}),t("p",{children:[e("strong",{children:"Estado:"})," ",u.is_active?"Activo":"Inactivo"]}),t("p",{children:[e("strong",{children:"Registro:"})," ",new Date(u.createdAt).toLocaleDateString()]}),t("p",{children:[e("strong",{children:"Último acceso:"})," ",u.last_login?new Date(u.last_login).toLocaleDateString():"Nunca"]})]})]})}),t("div",{className:"modal-footer",children:[e("button",{type:"button",className:"btn btn-secondary",onClick:()=>g(!1),children:"Cerrar"}),"admin"!==u.role&&e("button",{type:"button",className:"btn btn-danger",onClick:()=>C(u.id),children:"Eliminar Usuario"})]})]})})}),f&&e("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e("div",{className:"modal-dialog",children:t("div",{className:"modal-content",children:[t("div",{className:"modal-header",children:[e("h5",{className:"modal-title",children:"Crear Nuevo Grupo"}),e("button",{type:"button",className:"btn-close",onClick:()=>v(!1)})]}),t("form",{onSubmit:async e=>{e.preventDefault();try{const e=await rt.post("/admin/groups",y);d([...o,e.data]),N({name:"",description:"",category:"apoyo",isPrivate:!1}),v(!1)}catch(a){}},children:[t("div",{className:"modal-body",children:[t("div",{className:"mb-3",children:[e("label",{className:"form-label",children:"Nombre del Grupo"}),e("input",{type:"text",className:"form-control",value:y.name,onChange:e=>N({...y,name:e.target.value}),required:!0})]}),t("div",{className:"mb-3",children:[e("label",{className:"form-label",children:"Descripción"}),e("textarea",{className:"form-control",rows:"3",value:y.description,onChange:e=>N({...y,description:e.target.value}),required:!0})]}),t("div",{className:"mb-3",children:[e("label",{className:"form-label",children:"Categoría"}),t("select",{className:"form-select",value:y.category,onChange:e=>N({...y,category:e.target.value}),children:[e("option",{value:"apoyo",children:"Apoyo Emocional"}),e("option",{value:"informativo",children:"Informativo"}),e("option",{value:"actividades",children:"Actividades"}),e("option",{value:"general",children:"General"})]})]}),t("div",{className:"form-check",children:[e("input",{className:"form-check-input",type:"checkbox",checked:y.isPrivate,onChange:e=>N({...y,isPrivate:e.target.checked})}),e("label",{className:"form-check-label",children:"Grupo Privado (requiere aprobación para unirse)"})]})]}),t("div",{className:"modal-footer",children:[e("button",{type:"button",className:"btn btn-secondary",onClick:()=>v(!1),children:"Cancelar"}),e("button",{type:"submit",className:"btn btn-primary",children:"Crear Grupo"})]})]})]})})})]})},vt=()=>{const[a,n]=x.useState([]),[s,u]=x.useState(!0),[g,f]=x.useState(""),[v,y]=x.useState(""),[N,w]=x.useState(""),[C,S]=x.useState(""),[k,E]=x.useState(""),[R,A]=x.useState(""),[T,j]=x.useState(!1);x.useEffect((()=>{(async()=>{u(!0),f("");try{const e=await rt.get("/appointments");n(e.data)}catch(e){f("No se pudo cargar las citas.")}finally{u(!1)}})()}),[]);return t(i,{className:"py-4",children:[e("h1",{className:"mb-4",children:"Agenda de Citas"}),e(c,{children:t(o,{lg:8,children:[e(d,{className:"mb-4",children:t(d.Body,{children:[e("h2",{className:"h4 mb-3",children:"Crear Nueva Cita"}),R&&e(m,{variant:"danger",children:R}),t(h,{onSubmit:async e=>{if(e.preventDefault(),A(""),v&&C&&k){j(!0);try{const e={title:v,description:N,date:C,location:k,appointmentType:"medica",reminder:!1,reminderTime:null},a=await rt.post("/appointments",e);n((e=>[a.data,...e])),y(""),w(""),S(""),E("")}catch(a){A("Error creando la cita.")}finally{j(!1)}}else A("Título, fecha y ubicación son obligatorios.")},children:[t(h.Group,{className:"mb-3",controlId:"formTitle",children:[e(h.Label,{children:"Título"}),e(h.Control,{type:"text",placeholder:"Título de la cita",value:v,onChange:e=>y(e.target.value),required:!0})]}),t(h.Group,{className:"mb-3",controlId:"formDescription",children:[e(h.Label,{children:"Descripción"}),e(h.Control,{as:"textarea",rows:2,placeholder:"Detalles de la cita (opcional)",value:N,onChange:e=>w(e.target.value)})]}),t(h.Group,{className:"mb-3",controlId:"formDate",children:[e(h.Label,{children:"Fecha y Hora"}),e(h.Control,{type:"datetime-local",value:C,onChange:e=>S(e.target.value),required:!0})]}),t(h.Group,{className:"mb-3",controlId:"formLocation",children:[e(h.Label,{children:"Ubicación"}),e(h.Control,{type:"text",placeholder:"Lugar de la cita",value:k,onChange:e=>E(e.target.value),required:!0})]}),e("div",{className:"d-grid",children:e(l,{variant:"primary",type:"submit",disabled:T,children:T?t(r,{children:[e(p,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," ","Guardando..."]}):"Guardar Cita"})})]})]})}),e(d,{children:t(d.Body,{children:[e("h2",{className:"h4 mb-3",children:"Mis Citas"}),s?e("div",{className:"text-center py-4",children:e(p,{animation:"border"})}):g?e(m,{variant:"danger",children:g}):0===a.length?e(m,{variant:"info",children:"No tienes citas programadas."}):t(b,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[e("thead",{children:t("tr",{children:[e("th",{children:"Fecha"}),e("th",{children:"Título"}),e("th",{children:"Ubicación"}),e("th",{children:"Acciones"})]})}),e("tbody",{children:a.map((a=>t("tr",{children:[e("td",{children:new Date(a.date).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),e("td",{children:a.title}),e("td",{children:a.location}),e("td",{children:e(l,{variant:"danger",size:"sm",onClick:()=>(async e=>{if(window.confirm("¿Seguro que deseas eliminar esta cita?"))try{await rt.delete(`/appointments/${e}`),n((a=>a.filter((a=>a.id!==e))))}catch(a){alert("No se pudo eliminar la cita.")}})(a.id),children:"Eliminar"})})]},a.id)))})]})]})})]})})]})},yt=()=>{ct();const[a,s]=x.useState("register"),[u,f]=x.useState([]),[v,N]=x.useState(!1),[w,C]=x.useState(null),[S,k]=x.useState(null),[E,R]=x.useState({date:(new Date).toISOString().split("T")[0],pain_level:0,fatigue_level:0,nausea_level:0,anxiety_level:0,sleep_level:0,appetite_level:0,notes:""}),[A,T]=x.useState([]),[j,F]=x.useState(!1),[G,M]=x.useState(!1),[H,$]=x.useState({doctorId:"",subject:"",message:"",includePeriod:"7",includeSymptoms:!0}),[V,W]=x.useState({email:"",name:"",permissions:["view"]}),[J,K]=x.useState("line"),[Q,X]=x.useState("30");x.useEffect((()=>{Z(),Y()}),[]);const Z=async()=>{try{N(!0);const e=await rt.get("/symptoms");f(e.data)}catch(e){C("Error al cargar síntomas")}finally{N(!1)}},Y=async()=>{try{const e=await rt.get("/symptoms/shared-doctors");T(e.data)}catch(e){}},ee=e=>e<=3?{text:"Leve",color:"success"}:e<=6?{text:"Moderado",color:"warning"}:{text:"Intenso",color:"danger"},ae=()=>{const e=parseInt(Q);return u.filter((a=>{const t=new Date(a.date),i=new Date;return i.setDate(i.getDate()-e),t>=i})).sort(((e,a)=>new Date(e.date)-new Date(a.date))).slice(-10).map((e=>({date:new Date(e.date).toLocaleDateString(),Dolor:e.pain_level,Fatiga:e.fatigue_level,"Náusea":e.nausea_level,Ansiedad:e.anxiety_level,"Sueño":e.sleep_level,Apetito:e.appetite_level})))},te={Dolor:"#dc3545",Fatiga:"#fd7e14","Náusea":"#ffc107",Ansiedad:"#6f42c1","Sueño":"#0dcaf0",Apetito:"#198754"};return t(i,{className:"mt-4",children:[e(c,{children:t(o,{children:[t("div",{className:"d-flex align-items-center mb-4",children:[e("img",{src:"/images/0.jpg",alt:"Fortaleza y Determinación",className:"rounded-circle me-3",style:{width:"60px",height:"60px",objectFit:"cover"}}),t("div",{children:[e("h2",{className:"mb-1",children:"Registro de Síntomas"}),e("p",{className:"text-muted mb-0",children:"Monitorea tu bienestar y comparte con tu equipo médico"})]})]}),w&&e(m,{variant:"danger",dismissible:!0,onClose:()=>C(null),children:w}),S&&e(m,{variant:"success",dismissible:!0,onClose:()=>k(null),children:S}),t(n,{variant:"tabs",className:"mb-4",children:[e(n.Item,{children:t(n.Link,{active:"register"===a,onClick:()=>s("register"),children:[e("i",{className:"bi bi-plus-circle me-2"}),"Registrar"]})}),e(n.Item,{children:t(n.Link,{active:"history"===a,onClick:()=>s("history"),children:[e("i",{className:"bi bi-clock-history me-2"}),"Historial"]})}),e(n.Item,{children:t(n.Link,{active:"share"===a,onClick:()=>s("share"),children:[e("i",{className:"bi bi-share me-2"}),"Compartir"]})})]}),"register"===a&&t(d,{children:[e(d.Header,{children:e("h5",{className:"mb-0",children:"Nuevo Registro de Síntomas"})}),e(d.Body,{children:t(h,{onSubmit:async e=>{e.preventDefault();try{N(!0),C(null),await rt.post("/symptoms",E),k("Síntoma registrado correctamente"),R({date:(new Date).toISOString().split("T")[0],pain_level:0,fatigue_level:0,nausea_level:0,anxiety_level:0,sleep_level:0,appetite_level:0,notes:""}),await Z(),setTimeout((()=>k(null)),3e3)}catch(a){C("Error al registrar síntoma")}finally{N(!1)}},children:[e(c,{children:e(o,{md:6,children:t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Fecha"}),e(h.Control,{type:"date",value:E.date,onChange:e=>R({...E,date:e.target.value}),max:(new Date).toISOString().split("T")[0],required:!0})]})})}),e(c,{children:[{key:"pain_level",label:"Nivel de Dolor",icon:"bi-lightning"},{key:"fatigue_level",label:"Fatiga",icon:"bi-battery-half"},{key:"nausea_level",label:"Náusea",icon:"bi-emoji-dizzy"},{key:"anxiety_level",label:"Ansiedad",icon:"bi-heart-pulse"},{key:"sleep_level",label:"Calidad del Sueño",icon:"bi-moon"},{key:"appetite_level",label:"Apetito",icon:"bi-cup-hot"}].map((a=>t(o,{md:6,className:"mb-3",children:[t(h.Label,{children:[e("i",{className:`${a.icon} me-2`}),a.label,": ",E[a.key],"/10"]}),e(h.Range,{min:"0",max:"10",value:E[a.key],onChange:e=>R({...E,[a.key]:parseInt(e.target.value)})}),t("div",{className:"d-flex justify-content-between small text-muted",children:[e("span",{children:"Ninguno"}),e("span",{children:"Moderado"}),e("span",{children:"Severo"})]})]},a.key)))}),t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Notas adicionales"}),e(h.Control,{as:"textarea",rows:3,value:E.notes,onChange:e=>R({...E,notes:e.target.value}),placeholder:"Describe cualquier síntoma adicional o contexto relevante..."})]}),e(l,{type:"submit",variant:"primary",disabled:v,className:"w-100",children:t(r,v?{children:[e(p,{size:"sm",className:"me-2"}),"Guardando..."]}:{children:[e("i",{className:"bi bi-check-circle me-2"}),"Registrar Síntomas"]})})]})})]}),"history"===a&&t("div",{children:[t("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e("h5",{children:"Historial de Síntomas"}),t("div",{className:"d-flex gap-2",children:[t(h.Select,{size:"sm",value:Q,onChange:e=>X(e.target.value),style:{width:"auto"},children:[e("option",{value:"7",children:"Últimos 7 días"}),e("option",{value:"14",children:"Últimos 14 días"}),e("option",{value:"30",children:"Últimos 30 días"}),e("option",{value:"90",children:"Últimos 3 meses"})]}),e(l,{size:"sm",variant:"line"===J?"primary":"outline-primary",onClick:()=>K("line"),children:e("i",{className:"bi bi-graph-up"})}),e(l,{size:"sm",variant:"bar"===J?"primary":"outline-primary",onClick:()=>K("bar"),children:e("i",{className:"bi bi-bar-chart"})})]})]}),e(d,{className:"mb-4",children:e(d.Body,{children:e(P,{width:"100%",height:300,children:"line"===J?t(L,{data:ae(),children:[e(D,{strokeDasharray:"3 3"}),e(O,{dataKey:"date"}),e(B,{domain:[0,10]}),e(I,{}),e(_,{}),Object.entries(te).map((([a,t])=>e(q,{type:"monotone",dataKey:a,stroke:t,strokeWidth:2,dot:{r:4}},a)))]}):t(z,{data:ae(),children:[e(D,{strokeDasharray:"3 3"}),e(O,{dataKey:"date"}),e(B,{domain:[0,10]}),e(I,{}),e(_,{}),Object.entries(te).map((([a,t])=>e(U,{dataKey:a,fill:t,opacity:.8},a)))]})})})}),t(d,{children:[e(d.Header,{children:e("h6",{className:"mb-0",children:"Registros Detallados"})}),e(d.Body,{children:v?e("div",{className:"text-center py-4",children:e(p,{})}):0===u.length?t("div",{className:"text-center py-4 text-muted",children:[e("i",{className:"bi bi-journal-x fs-1 d-block mb-2"}),e("p",{children:"No hay síntomas registrados"})]}):t(b,{responsive:!0,hover:!0,children:[e("thead",{children:t("tr",{children:[e("th",{children:"Fecha"}),e("th",{children:"Dolor"}),e("th",{children:"Fatiga"}),e("th",{children:"Náusea"}),e("th",{children:"Ansiedad"}),e("th",{children:"Sueño"}),e("th",{children:"Apetito"}),e("th",{children:"Notas"})]})}),e("tbody",{children:u.slice(0,20).map((a=>t("tr",{children:[e("td",{children:new Date(a.date).toLocaleDateString()}),e("td",{children:t(g,{bg:ee(a.pain_level).color,children:[a.pain_level,"/10"]})}),e("td",{children:t(g,{bg:ee(a.fatigue_level).color,children:[a.fatigue_level,"/10"]})}),e("td",{children:t(g,{bg:ee(a.nausea_level).color,children:[a.nausea_level,"/10"]})}),e("td",{children:t(g,{bg:ee(a.anxiety_level).color,children:[a.anxiety_level,"/10"]})}),e("td",{children:t(g,{bg:ee(a.sleep_level).color,children:[a.sleep_level,"/10"]})}),e("td",{children:t(g,{bg:ee(a.appetite_level).color,children:[a.appetite_level,"/10"]})}),e("td",{children:a.notes?e("span",{title:a.notes,children:a.notes.length>30?`${a.notes.substring(0,30)}...`:a.notes}):e("span",{className:"text-muted",children:"Sin notas"})})]},a.id)))})]})})]})]}),"share"===a&&e("div",{children:t(c,{children:[e(o,{md:8,children:t(d,{children:[t(d.Header,{className:"d-flex justify-content-between align-items-center",children:[e("h6",{className:"mb-0",children:"Médicos con Acceso"}),t(l,{size:"sm",variant:"primary",onClick:()=>M(!0),children:[e("i",{className:"bi bi-plus-circle me-1"}),"Invitar Médico"]})]}),e(d.Body,{children:0===A.length?t("div",{className:"text-center py-4 text-muted",children:[e("i",{className:"bi bi-person-plus fs-1 d-block mb-2"}),e("p",{children:"No has compartido tus datos con ningún médico"})]}):A.map((a=>t("div",{className:"d-flex justify-content-between align-items-center border-bottom py-3",children:[t("div",{children:[e("h6",{className:"mb-1",children:a.name}),e("p",{className:"text-muted mb-1",children:a.specialty}),e("small",{className:"text-muted",children:a.email}),t("div",{className:"mt-1",children:[e(g,{bg:"active"===a.status?"success":"warning",children:"active"===a.status?"Activo":"Pendiente"}),a.permissions.map((a=>e(g,{bg:"secondary",className:"ms-1",children:"view"===a?"Ver":"Comentar"},a)))]})]}),e("div",{children:e(l,{size:"sm",variant:"outline-primary",onClick:()=>{$({...H,doctorId:a.id}),F(!0)},children:e("i",{className:"bi bi-envelope"})})})]},a.id)))})]})}),e(o,{md:4,children:t(d,{children:[e(d.Header,{children:e("h6",{className:"mb-0",children:"Acciones Rápidas"})}),e(d.Body,{children:t("div",{className:"d-grid gap-2",children:[t(l,{variant:"outline-primary",onClick:()=>F(!0),children:[e("i",{className:"bi bi-envelope me-2"}),"Enviar Resumen"]}),t(l,{variant:"outline-secondary",children:[e("i",{className:"bi bi-download me-2"}),"Exportar PDF"]}),t(l,{variant:"outline-info",children:[e("i",{className:"bi bi-graph-up me-2"}),"Ver Estadísticas"]})]})})]})})]})})]})}),t(y,{show:j,onHide:()=>F(!1),size:"lg",children:[e(y.Header,{closeButton:!0,children:e(y.Title,{children:"Enviar Resumen por Email"})}),t(h,{onSubmit:async e=>{e.preventDefault();try{N(!0),await rt.post("/symptoms/send-email",H),k("Email enviado correctamente al médico"),F(!1),$({doctorId:"",subject:"",message:"",includePeriod:"7",includeSymptoms:!0}),setTimeout((()=>k(null)),3e3)}catch(a){C("Error al enviar email")}finally{N(!1)}},children:[t(y.Body,{children:[t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Médico"}),t(h.Select,{value:H.doctorId,onChange:e=>$({...H,doctorId:e.target.value}),required:!0,children:[e("option",{value:"",children:"Seleccionar médico..."}),A.map((e=>t("option",{value:e.id,children:[e.name," - ",e.specialty]},e.id)))]})]}),t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Período de datos"}),t(h.Select,{value:H.includePeriod,onChange:e=>$({...H,includePeriod:e.target.value}),children:[e("option",{value:"7",children:"Últimos 7 días"}),e("option",{value:"14",children:"Últimos 14 días"}),e("option",{value:"30",children:"Últimos 30 días"}),e("option",{value:"all",children:"Todos los registros"})]})]}),t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Asunto"}),e(h.Control,{type:"text",value:H.subject,onChange:e=>$({...H,subject:e.target.value}),placeholder:"Resumen de síntomas - [Período]",required:!0})]}),t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Mensaje"}),e(h.Control,{as:"textarea",rows:4,value:H.message,onChange:e=>$({...H,message:e.target.value}),placeholder:"Mensaje adicional para el médico..."})]}),e(h.Check,{type:"checkbox",label:"Incluir gráficas de evolución",checked:H.includeSymptoms,onChange:e=>$({...H,includeSymptoms:e.target.checked})})]}),t(y.Footer,{children:[e(l,{variant:"secondary",onClick:()=>F(!1),children:"Cancelar"}),e(l,{type:"submit",variant:"primary",disabled:v,children:v?"Enviando...":"Enviar Email"})]})]})]}),t(y,{show:G,onHide:()=>M(!1),children:[e(y.Header,{closeButton:!0,children:e(y.Title,{children:"Invitar Médico"})}),t(h,{onSubmit:async e=>{e.preventDefault();try{N(!0),await rt.post("/symptoms/invite-doctor",V),k("Invitación enviada correctamente"),M(!1),W({email:"",name:"",permissions:["view"]}),await Y(),setTimeout((()=>k(null)),3e3)}catch(a){C("Error al enviar invitación")}finally{N(!1)}},children:[t(y.Body,{children:[t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Email del médico"}),e(h.Control,{type:"email",value:V.email,onChange:e=>W({...V,email:e.target.value}),placeholder:"doctor@hospital.com",required:!0})]}),t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Nombre del médico"}),e(h.Control,{type:"text",value:V.name,onChange:e=>W({...V,name:e.target.value}),placeholder:"Dr. Juan Pérez",required:!0})]}),t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Permisos"}),t("div",{children:[e(h.Check,{type:"checkbox",label:"Ver datos médicos",checked:V.permissions.includes("view"),onChange:e=>{e.target.checked?W({...V,permissions:[...V.permissions,"view"]}):W({...V,permissions:V.permissions.filter((e=>"view"!==e))})}}),e(h.Check,{type:"checkbox",label:"Agregar comentarios",checked:V.permissions.includes("comment"),onChange:e=>{e.target.checked?W({...V,permissions:[...V.permissions,"comment"]}):W({...V,permissions:V.permissions.filter((e=>"comment"!==e))})}})]})]})]}),t(y.Footer,{children:[e(l,{variant:"secondary",onClick:()=>M(!1),children:"Cancelar"}),e(l,{type:"submit",variant:"primary",disabled:v,children:v?"Enviando...":"Enviar Invitación"})]})]})]})]})},Nt=()=>{ct();const[a,s]=x.useState("today"),[u,b]=x.useState(!1),[f,v]=x.useState(null),[y,N]=x.useState(null),[w,C]=x.useState(null),[S,k]=x.useState({mood:5,energy:5,gratitude:"",achievement:"",notes:"",stickers:[]}),[E,R]=x.useState([]),[A,T]=x.useState([]),[j,P]=x.useState([]),[L,D]=x.useState([{id:1,emoji:"😊",name:"Feliz"},{id:2,emoji:"💪",name:"Fuerte"},{id:3,emoji:"🌟",name:"Brillante"},{id:4,emoji:"❤️",name:"Amor"},{id:5,emoji:"🌈",name:"Esperanza"},{id:6,emoji:"🦋",name:"Transformación"},{id:7,emoji:"🌸",name:"Delicada"},{id:8,emoji:"🔥",name:"Energía"},{id:9,emoji:"🌙",name:"Tranquila"},{id:10,emoji:"☀️",name:"Radiante"},{id:11,emoji:"🎯",name:"Enfocada"},{id:12,emoji:"🏆",name:"Victoriosa"}]),[O]=x.useState(["Eres más fuerte de lo que crees y más valiente de lo que sientes.","Cada día es una nueva oportunidad para brillar.","Tu fortaleza interior es tu mayor superpoder.","Pequeños pasos cada día llevan a grandes cambios.","Eres la autora de tu propia historia de superación.","La esperanza es el combustible del alma.","Tu valentía inspira a otras mujeres.","Cada cicatriz cuenta una historia de supervivencia.","Eres un ejemplo de resistencia y gracia.","Tu luz interior nunca se apaga.","Mereces todo el amor y cuidado del mundo.","Eres más resiliente de lo que imaginas.","Tu bienestar es una prioridad, no un lujo.","Cada día que luchas es una victoria.","Eres una guerrera disfrazada de mujer.","Tu fuerza interior mueve montañas.","Eres digna de todos tus sueños.","La sanación comienza con el amor propio.","Eres un milagro caminando por este mundo.","Tu presencia hace la diferencia."]),[B,I]=x.useState(O[0]),_=["¿Por qué estás agradecida hoy?","¿Qué momento te llenó de paz hoy?","¿Qué persona te hizo sonreír?","¿Qué pequeño detalle te alegró el día?","¿Qué parte de tu cuerpo agradeces hoy?","¿Qué experiencia te enseñó algo nuevo?","¿Qué acto de bondad recibiste o diste?"],q=["¿Qué lograste hoy, por pequeño que sea?","¿En qué momento te sentiste orgullosa?","¿Qué desafío superaste hoy?","¿Qué nueva habilidad desarrollaste?","¿Cómo cuidaste de ti misma hoy?","¿Qué paso diste hacia tus metas?","¿Qué acto de valentía realizaste?"],[z,U]=x.useState(_[0]),[F,G]=x.useState(q[0]);x.useEffect((()=>{M(),H(),$()}),[]);const M=async()=>{try{const e=(new Date).toISOString().split("T")[0],a=await rt.get(`/motivational/reflection/${e}`);C(a.data),a.data&&k(a.data)}catch(e){}},H=async()=>{try{b(!0);const[e,a,t]=await Promise.all([rt.get("/motivational/reflections"),rt.get("/motivational/achievements"),rt.get("/motivational/gratitudes")]);R(e.data),T(a.data),P(t.data)}catch(e){v("Error al cargar el historial")}finally{b(!1)}},$=()=>{const e=_[Math.floor(Math.random()*_.length)],a=q[Math.floor(Math.random()*q.length)];U(e),G(a)},V=e=>e<=3?"danger":e<=6?"warning":"success",W=e=>e<=2?"😢":e<=4?"😐":e<=6?"🙂":e<=8?"😊":"😄";return e(i,{className:"mt-4",children:e(c,{children:t(o,{children:[t("div",{className:"d-flex align-items-center mb-4",children:[e("img",{src:"/images/1.jpg",alt:"Apoyo y Comunidad",className:"rounded-circle me-3",style:{width:"60px",height:"60px",objectFit:"cover"}}),t("div",{children:[e("h2",{className:"mb-1",children:"Centro de Motivación"}),e("p",{className:"text-muted mb-0",children:"Tu espacio de reflexión y crecimiento personal"})]})]}),f&&e(m,{variant:"danger",dismissible:!0,onClose:()=>v(null),children:f}),y&&e(m,{variant:"success",dismissible:!0,onClose:()=>N(null),children:y}),e(d,{className:"mb-4 bg-gradient",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:t(d.Body,{className:"text-white text-center py-4",children:[e("h5",{className:"mb-3",children:"💫 Frase del Día"}),t("p",{className:"lead mb-3",children:['"',B,'"']}),t(l,{variant:"light",size:"sm",onClick:()=>{const e=O[Math.floor(Math.random()*O.length)];I(e)},children:[e("i",{className:"bi bi-shuffle me-2"}),"Nueva Frase"]})]})}),t(n,{variant:"tabs",className:"mb-4",children:[e(n.Item,{children:t(n.Link,{active:"today"===a,onClick:()=>s("today"),children:[e("i",{className:"bi bi-sun me-2"}),"Reflexión de Hoy"]})}),e(n.Item,{children:t(n.Link,{active:"history"===a,onClick:()=>s("history"),children:[e("i",{className:"bi bi-journal-text me-2"}),"Mi Historial"]})})]}),"today"===a&&t(c,{children:[e(o,{lg:8,children:t(d,{children:[e(d.Header,{children:t("h5",{className:"mb-0",children:[e("i",{className:"bi bi-heart me-2"}),"Reflexión Diaria - ",(new Date).toLocaleDateString()]})}),e(d.Body,{children:t(h,{onSubmit:async e=>{e.preventDefault();try{b(!0),v(null);const e={...S,date:(new Date).toISOString().split("T")[0]};w?(await rt.put(`/motivational/reflection/${w.id}`,e),N("Reflexión actualizada correctamente")):(await rt.post("/motivational/reflection",e),N("Reflexión guardada correctamente")),await M(),await H(),setTimeout((()=>N(null)),3e3)}catch(a){v("Error al guardar la reflexión")}finally{b(!1)}},children:[t(c,{children:[e(o,{md:6,children:t(h.Group,{className:"mb-3",children:[t(h.Label,{children:["Estado de ánimo: ",W(S.mood)," (",S.mood,"/10)"]}),e(h.Range,{min:"1",max:"10",value:S.mood,onChange:e=>k({...S,mood:parseInt(e.target.value)})}),t("div",{className:"d-flex justify-content-between small text-muted",children:[e("span",{children:"Muy bajo"}),e("span",{children:"Excelente"})]})]})}),e(o,{md:6,children:t(h.Group,{className:"mb-3",children:[t(h.Label,{children:["Nivel de energía: ⚡ (",S.energy,"/10)"]}),e(h.Range,{min:"1",max:"10",value:S.energy,onChange:e=>k({...S,energy:parseInt(e.target.value)})}),t("div",{className:"d-flex justify-content-between small text-muted",children:[e("span",{children:"Sin energía"}),e("span",{children:"Llena de energía"})]})]})})]}),t(h.Group,{className:"mb-3",children:[t(h.Label,{children:[e("i",{className:"bi bi-heart-fill text-danger me-2"}),z]}),e(h.Control,{as:"textarea",rows:3,value:S.gratitude,onChange:e=>k({...S,gratitude:e.target.value}),placeholder:"Escribe aquí tu gratitud del día..."})]}),t(h.Group,{className:"mb-3",children:[t(h.Label,{children:[e("i",{className:"bi bi-trophy-fill text-warning me-2"}),F]}),e(h.Control,{as:"textarea",rows:3,value:S.achievement,onChange:e=>k({...S,achievement:e.target.value}),placeholder:"Describe tu logro del día..."})]}),t(h.Group,{className:"mb-3",children:[t(h.Label,{children:[e("i",{className:"bi bi-pencil-fill text-primary me-2"}),"Notas adicionales"]}),e(h.Control,{as:"textarea",rows:3,value:S.notes,onChange:e=>k({...S,notes:e.target.value}),placeholder:"Cualquier pensamiento o reflexión adicional..."})]}),t(h.Group,{className:"mb-4",children:[t(h.Label,{children:[e("i",{className:"bi bi-emoji-smile me-2"}),"Decora tu reflexión con stickers"]}),S.stickers.length>0&&t("div",{className:"mb-3 p-3 border rounded bg-light",children:[e("small",{className:"text-muted d-block mb-2",children:"Stickers en tu reflexión:"}),e("div",{className:"d-flex flex-wrap gap-2",children:S.stickers.map((e=>t(g,{bg:"primary",className:"p-2 cursor-pointer",onClick:()=>{return a=e.id,void k({...S,stickers:S.stickers.filter((e=>e.id!==a))});var a},title:`${e.emoji} ${e.name} - Click para quitar`,children:[e.emoji," ",e.name]},e.id)))})]}),e("div",{className:"d-flex flex-wrap gap-2",children:L.map((a=>e(l,{variant:"outline-secondary",size:"sm",onClick:()=>(e=>{S.stickers.find((a=>a.id===e.id))||k({...S,stickers:[...S.stickers,e]})})(a),disabled:S.stickers.find((e=>e.id===a.id)),title:a.name,children:a.emoji},a.id)))})]}),t("div",{className:"d-flex gap-2",children:[e(l,{type:"submit",variant:"primary",disabled:u,className:"flex-grow-1",children:t(r,u?{children:[e(p,{size:"sm",className:"me-2"}),"Guardando..."]}:{children:[e("i",{className:"bi bi-check-circle me-2"}),w?"Actualizar Reflexión":"Guardar Reflexión"]})}),e(l,{type:"button",variant:"outline-secondary",onClick:$,children:e("i",{className:"bi bi-shuffle"})})]})]})})]})}),t(o,{lg:4,children:[t(d,{className:"mb-3",children:[e(d.Header,{children:e("h6",{className:"mb-0",children:"Tu Estado Actual"})}),e(d.Body,{children:t("div",{className:"text-center",children:[e("div",{className:"display-1 mb-2",children:W(S.mood)}),t(g,{bg:V(S.mood),className:"mb-2",children:["Ánimo: ",S.mood,"/10"]}),e("br",{}),t(g,{bg:"info",children:["Energía: ",S.energy,"/10"]})]})})]}),t(d,{children:[e(d.Header,{children:e("h6",{className:"mb-0",children:"Progreso Semanal"})}),e(d.Body,{children:t("div",{className:"text-center",children:[e("p",{className:"text-muted mb-2",children:"Reflexiones completadas"}),t("div",{className:"display-4 text-primary",children:[E.filter((e=>{const a=new Date(e.date),t=new Date;return t.setDate(t.getDate()-7),a>=t})).length,"/7"]}),e("small",{className:"text-muted",children:"esta semana"})]})})]})]})]}),"history"===a&&t(c,{children:[e(o,{md:8,children:t(d,{children:[e(d.Header,{children:e("h6",{className:"mb-0",children:"Mis Reflexiones"})}),e(d.Body,{children:u?e("div",{className:"text-center py-4",children:e(p,{})}):0===E.length?t("div",{className:"text-center py-4 text-muted",children:[e("i",{className:"bi bi-journal-x fs-1 d-block mb-2"}),e("p",{children:"Aún no tienes reflexiones guardadas"})]}):E.slice(0,10).map((a=>t("div",{className:"border-bottom py-3",children:[t("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e("h6",{className:"mb-1",children:new Date(a.date).toLocaleDateString()}),e("div",{children:t(g,{bg:V(a.mood),children:[W(a.mood)," ",a.mood,"/10"]})})]}),a.gratitude&&t("div",{className:"mb-2",children:[e("small",{className:"text-muted",children:"Gratitud:"}),e("p",{className:"mb-1",children:a.gratitude})]}),a.achievement&&t("div",{className:"mb-2",children:[e("small",{className:"text-muted",children:"Logro:"}),e("p",{className:"mb-1",children:a.achievement})]}),a.stickers&&a.stickers.length>0&&e("div",{className:"d-flex gap-1",children:a.stickers.map((a=>e("span",{title:a.name,children:a.emoji},a.id)))})]},a.id)))})]})}),t(o,{md:4,children:[t(d,{className:"mb-3",children:[e(d.Header,{children:e("h6",{className:"mb-0",children:"Estadísticas"})}),e(d.Body,{children:t("div",{className:"row text-center",children:[t("div",{className:"col-6",children:[e("div",{className:"h4 text-primary",children:E.length}),e("small",{className:"text-muted",children:"Reflexiones"})]}),t("div",{className:"col-6",children:[e("div",{className:"h4 text-success",children:E.length>0?Math.round(E.reduce(((e,a)=>e+a.mood),0)/E.length):0}),e("small",{className:"text-muted",children:"Ánimo promedio"})]})]})})]}),t(d,{children:[e(d.Header,{children:e("h6",{className:"mb-0",children:"Mis Logros Recientes"})}),t(d.Body,{children:[A.slice(0,5).map(((a,i)=>t("div",{className:"d-flex align-items-start mb-2",children:[e("i",{className:"bi bi-trophy-fill text-warning me-2 mt-1"}),e("small",{children:a.text})]},i))),0===A.length&&e("small",{className:"text-muted",children:"Aún no hay logros registrados"})]})]})]})]})]})})})},wt=()=>{ct();const[a,n]=x.useState(!0),[r,s]=x.useState([]),[u,b]=x.useState([]),[f,v]=x.useState(!1),[N,w]=x.useState({title:"",content:"",category:"general"}),[C,S]=x.useState(null);x.useEffect((()=>{k()}),[]);const k=async()=>{try{n(!0);const[e,a]=await Promise.all([rt.get("/community/posts"),rt.get("/community/groups")]);s(e.data||[]),b(a.data||[])}catch(e){S("Error al cargar los datos de la comunidad"),s([]),b([])}finally{n(!1)}};return t(i,a?{className:"py-5 text-center",children:[e(p,{animation:"border",role:"status",children:e("span",{className:"visually-hidden",children:"Cargando..."})}),e("p",{className:"mt-3",children:"Cargando comunidad..."})]}:{className:"py-4 animate-fade-in",children:[e(c,{className:"mb-4",children:e(o,{children:t("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[t("div",{className:"d-flex align-items-center",children:[e("img",{src:"/images/2.jpg",alt:"Comunidad",className:"rounded-circle me-3",style:{width:"60px",height:"60px",objectFit:"cover"}}),t("div",{children:[e("h1",{className:"mb-1",children:"Comunidad de Dragonas"}),e("p",{className:"text-muted mb-0",children:"Espacio de apoyo y conexión"})]})]}),t(l,{variant:"primary",onClick:()=>v(!0),className:"d-flex align-items-center",children:[e("i",{className:"bi bi-plus-circle me-2"}),"Nueva Publicación"]})]})})}),C&&e(m,{variant:"danger",dismissible:!0,onClose:()=>S(null),children:C}),t(c,{className:"mb-4",children:[e(o,{md:3,className:"mb-3",children:e(d,{className:"border-0 shadow-sm text-center",children:t(d.Body,{children:[e("i",{className:"bi bi-people text-primary mb-2",style:{fontSize:"2rem"}}),e("h4",{className:"mb-1",children:u.length||0}),e("p",{className:"text-muted mb-0",children:"Grupos activos"})]})})}),e(o,{md:3,className:"mb-3",children:e(d,{className:"border-0 shadow-sm text-center",children:t(d.Body,{children:[e("i",{className:"bi bi-chat-dots text-success mb-2",style:{fontSize:"2rem"}}),e("h4",{className:"mb-1",children:r.length||0}),e("p",{className:"text-muted mb-0",children:"Publicaciones"})]})})}),e(o,{md:3,className:"mb-3",children:e(d,{className:"border-0 shadow-sm text-center",children:t(d.Body,{children:[e("i",{className:"bi bi-heart text-danger mb-2",style:{fontSize:"2rem"}}),e("h4",{className:"mb-1",children:"0"}),e("p",{className:"text-muted mb-0",children:"Reacciones hoy"})]})})}),e(o,{md:3,className:"mb-3",children:e(d,{className:"border-0 shadow-sm text-center",children:t(d.Body,{children:[e("i",{className:"bi bi-calendar-event text-info mb-2",style:{fontSize:"2rem"}}),e("h4",{className:"mb-1",children:"0"}),e("p",{className:"text-muted mb-0",children:"Eventos próximos"})]})})})]}),t(c,{children:[e(o,{md:8,children:t(d,{className:"mb-4",children:[e(d.Header,{children:e("h5",{className:"mb-0",children:"Publicaciones Recientes"})}),e(d.Body,{children:0===r.length?t("div",{className:"text-center py-5",children:[e("i",{className:"bi bi-chat-square-text text-muted mb-3",style:{fontSize:"3rem"}}),e("h5",{className:"text-muted",children:"No hay publicaciones aún"}),e("p",{className:"text-muted",children:"Sé la primera en compartir algo con la comunidad"}),e(l,{variant:"primary",onClick:()=>v(!0),children:"Crear Primera Publicación"})]}):r.map((a=>{return t("div",{className:"border-bottom pb-3 mb-3",children:[t("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[t("div",{className:"d-flex align-items-center",children:[e("div",{className:"bg-primary rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"40px",height:"40px"},children:e("i",{className:"bi bi-person text-white"})}),t("div",{children:[e("h6",{className:"mb-0",children:a.author_name}),e("small",{className:"text-muted",children:(i=a.created_at,new Date(i).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"}))})]})]}),e(g,{bg:"secondary",children:a.category})]}),e("h6",{children:a.title}),e("p",{className:"text-muted mb-2",children:a.content}),t("div",{className:"d-flex align-items-center",children:[t(l,{variant:"outline-primary",size:"sm",className:"me-2",children:[e("i",{className:"bi bi-heart me-1"}),a.likes||0]}),t(l,{variant:"outline-secondary",size:"sm",children:[e("i",{className:"bi bi-chat me-1"}),a.comments||0]})]})]},a.id);var i}))})]})}),t(o,{md:4,children:[t(d,{className:"mb-4",children:[e(d.Header,{children:e("h5",{className:"mb-0",children:"Grupos de Apoyo"})}),e(d.Body,{children:0===u.length?t("div",{className:"text-center py-3",children:[e("p",{className:"text-muted",children:"No hay grupos disponibles"}),e(l,{variant:"outline-primary",size:"sm",children:"Crear Grupo"})]}):u.map((a=>t("div",{className:"d-flex justify-content-between align-items-center mb-3 p-2 border rounded",children:[t("div",{children:[e("h6",{className:"mb-1",children:a.name}),t("small",{className:"text-muted",children:[a.members_count," miembros"]})]}),e(l,{variant:"outline-primary",size:"sm",children:"Unirse"})]},a.id)))})]}),t(d,{children:[e(d.Header,{children:e("h5",{className:"mb-0",children:"Próximos Eventos"})}),e(d.Body,{children:t("div",{className:"text-center py-3",children:[e("i",{className:"bi bi-calendar-x text-muted mb-2",style:{fontSize:"2rem"}}),e("p",{className:"text-muted mb-0",children:"No hay eventos programados"})]})})]})]})]}),t(y,{show:f,onHide:()=>v(!1),size:"lg",children:[e(y.Header,{closeButton:!0,children:e(y.Title,{children:"Nueva Publicación"})}),t(h,{onSubmit:async e=>{e.preventDefault();try{const e=await rt.post("/community/posts",N);s([e.data,...r]),w({title:"",content:"",category:"general"}),v(!1)}catch(a){S("Error al crear la publicación")}},children:[t(y.Body,{children:[t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Título"}),e(h.Control,{type:"text",placeholder:"Escribe un título para tu publicación",value:N.title,onChange:e=>w({...N,title:e.target.value}),required:!0})]}),t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Categoría"}),t(h.Select,{value:N.category,onChange:e=>w({...N,category:e.target.value}),children:[e("option",{value:"general",children:"General"}),e("option",{value:"apoyo",children:"Apoyo"}),e("option",{value:"consejos",children:"Consejos"}),e("option",{value:"experiencias",children:"Experiencias"}),e("option",{value:"preguntas",children:"Preguntas"})]})]}),t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Contenido"}),e(h.Control,{as:"textarea",rows:4,placeholder:"Comparte tus pensamientos, experiencias o preguntas...",value:N.content,onChange:e=>w({...N,content:e.target.value}),required:!0})]})]}),t(y.Footer,{children:[e(l,{variant:"secondary",onClick:()=>v(!1),children:"Cancelar"}),e(l,{variant:"primary",type:"submit",children:"Publicar"})]})]})]})]})},xt=({doctorId:a})=>{ct();const[i,n]=x.useState(""),[s,c]=x.useState([]),[o,u]=x.useState(!0),[b,f]=x.useState(!1),[v,N]=x.useState(""),[w,C]=x.useState(!1),[S,k]=x.useState(!1),[E,R]=x.useState(null);x.useEffect((()=>{(async()=>{u(!0),N("");try{await new Promise((e=>setTimeout(e,800)));c([{id:1,question:"¿Es normal sentir dolor de cabeza después de la quimioterapia?",createdAt:"2025-06-01T14:30:00Z",isAnswered:!0,answer:"Sí, es un efecto secundario común. Si persiste o es muy intenso, podemos ajustar la medicación para aliviarlo.",answeredAt:"2025-06-02T09:15:00Z"},{id:2,question:"¿Puedo hacer ejercicio moderado durante el tratamiento?",createdAt:"2025-05-29T10:15:00Z",isAnswered:!1,answer:null,answeredAt:null}])}catch(e){N("No se pudieron cargar tus preguntas anteriores. Por favor, intenta de nuevo más tarde.")}finally{u(!1)}})()}),[a]);const A=e=>{if(!e)return"";const a=new Date(e),t=new Date-a,i=Math.floor(t/864e5);if(0===i){const e=Math.floor(t/36e5);if(0===e){const e=Math.floor(t/6e4);return 0===e?"Justo ahora":`Hace ${e} minutos`}return`Hace ${e} horas`}return 1===i?"Ayer":i<7?`Hace ${i} días`:a.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})};return t("div",{className:"ask-doctor-component",children:[e(d,{className:"border-0 shadow-sm mb-4",children:t(d.Body,{children:[e("h5",{className:"card-title mb-3",children:"Pregunta a tu médico"}),e("p",{className:"text-muted mb-4",children:"Envía tus dudas directamente a tu médico asignado. Recibirás una notificación cuando responda a tu consulta."}),v&&e(m,{variant:"danger",children:v}),w&&e(m,{variant:"success",children:"¡Tu pregunta ha sido enviada con éxito!"}),t(h,{onSubmit:async e=>{if(e.preventDefault(),i.trim()){f(!0),N(""),C(!1);try{await new Promise((e=>setTimeout(e,1e3)));const e={id:Date.now(),question:i,createdAt:(new Date).toISOString(),isAnswered:!1,answer:null,answeredAt:null};c([e,...s]),n(""),C(!0),setTimeout((()=>C(!1)),5e3)}catch(a){N("No se pudo enviar tu pregunta. Por favor, intenta de nuevo más tarde.")}finally{f(!1)}}},children:[t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Tu pregunta"}),e(h.Control,{as:"textarea",rows:3,placeholder:"Escribe aquí tu duda o consulta médica...",value:i,onChange:e=>n(e.target.value),disabled:b})]}),e("div",{className:"text-end",children:e(l,{type:"submit",variant:"primary",disabled:b||!i.trim(),children:t(r,b?{children:[e(p,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),"Enviando..."]}:{children:[e("i",{className:"bi bi-send me-2"}),"Enviar pregunta"]})})})]})]})}),e("h5",{className:"mb-3",children:"Historial de preguntas"}),o?t("div",{className:"text-center py-4",children:[e(p,{animation:"border",variant:"primary"}),e("p",{className:"text-muted mt-2",children:"Cargando tus preguntas..."})]}):0===s.length?t("div",{className:"text-center py-4",children:[e("i",{className:"bi bi-chat-left-text",style:{fontSize:"2rem",color:"#ccc"}}),e("p",{className:"text-muted mt-2",children:"Aún no has realizado ninguna pregunta."})]}):e("div",{className:"questions-history",children:s.map((a=>e(d,{className:"mb-3 border-0 shadow-sm question-card "+(a.isAnswered?"":"unanswered"),onClick:()=>(e=>{R(e),k(!0)})(a),children:t(d.Body,{children:[t("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e("h6",{className:"mb-0",children:a.question}),a.isAnswered?e(g,{bg:"success",pill:!0,children:"Respondida"}):e(g,{bg:"warning",pill:!0,children:"Pendiente"})]}),t("p",{className:"text-muted small mb-0",children:[e("i",{className:"bi bi-clock me-1"})," ",A(a.createdAt)]})]})},a.id)))}),t(y,{show:S,onHide:()=>k(!1),centered:!0,children:[e(y.Header,{closeButton:!0,children:e(y.Title,{children:"Detalles de la consulta"})}),e(y.Body,{children:E&&t("div",{className:"question-details",children:[t("div",{className:"question-container mb-3",children:[e("h6",{children:"Tu pregunta:"}),t("div",{className:"p-3 bg-light rounded",children:[e("p",{className:"mb-1",children:E.question}),e("small",{className:"text-muted",children:A(E.createdAt)})]})]}),E.isAnswered?t("div",{className:"answer-container",children:[e("h6",{children:"Respuesta del médico:"}),t("div",{className:"p-3 bg-light rounded border-left-primary",children:[e("p",{className:"mb-1",children:E.answer}),e("small",{className:"text-muted",children:A(E.answeredAt)})]})]}):t(m,{variant:"warning",children:[e("i",{className:"bi bi-clock me-2"}),"Tu pregunta aún no ha sido respondida. Recibirás una notificación cuando el médico responda."]})]})}),e(y.Footer,{children:e(l,{variant:"secondary",onClick:()=>k(!1),children:"Cerrar"})})]})]})},Ct=()=>{const{user:a,updateUserProfile:n,loading:s}=ct(),u=x.useRef(null),[b,f]=x.useState({name:"",email:"",phone:"",birthdate:"",emergencyContact:"",medicalNotes:"",specialty:"",licenseNumber:"",hospital:"",bio:""}),[v,w]=x.useState(null),[C,S]=x.useState(null),[k,E]=x.useState(!1),[R,A]=x.useState(""),[T,j]=x.useState(!1),[P,L]=x.useState("profile"),[D,O]=x.useState(!1),[B,I]=x.useState([{id:1,name:"Ana García",email:"ana.garcia@email.com",lastVisit:"2025-06-01",status:"active",nextAppointment:"2025-06-15"},{id:2,name:"María López",email:"maria.lopez@email.com",lastVisit:"2025-05-28",status:"active",nextAppointment:"2025-06-10"},{id:3,name:"Carmen Ruiz",email:"carmen.ruiz@email.com",lastVisit:"2025-05-25",status:"pending",nextAppointment:null}]),[_,q]=x.useState({id:1,name:"Dra. María Rodríguez",specialty:"Oncología",hospital:"Hospital Universitario",image:null});x.useEffect((()=>{a&&(f({name:a.name||"",email:a.email||"",phone:a.phone||"",birthdate:a.birthdate||"",emergencyContact:a.emergencyContact||"",medicalNotes:a.medicalNotes||"",specialty:a.specialty||"",licenseNumber:a.licenseNumber||"",hospital:a.hospital||"",bio:a.bio||""}),a.profileImage&&S(a.profileImage))}),[a]);const z=e=>{const{name:a,value:t}=e.target;f((e=>({...e,[a]:t})))},U=async e=>{e.preventDefault(),E(!0),A(""),j(!1);try{await new Promise((e=>setTimeout(e,1e3))),j(!0),setTimeout((()=>j(!1)),3e3)}catch(a){A("No se pudo actualizar el perfil. Inténtalo de nuevo más tarde.")}finally{E(!1)}},F=e=>e?e.split(" ").map((e=>e[0])).join("").toUpperCase():"U";return t(i,{className:"py-4 animate-fade-in",children:[e(c,{className:"mb-4",children:e(o,{lg:12,children:e(d,{className:"border-0 shadow-sm",children:t(d.Body,{className:"p-4",children:[e("h1",{className:"section-title mb-2",children:"Mi Perfil"}),e("p",{className:"text-muted",children:"medico"===(null==a?void 0:a.role)?"Gestiona tu información profesional y pacientes.":"Gestiona tu información personal y preferencias de la aplicación."})]})})})}),t(c,{children:[e(o,{lg:3,className:"mb-4 mb-lg-0",children:e(d,{className:"border-0 shadow-sm sticky-top",style:{top:"20px"},children:t(d.Body,{className:"p-4",children:[t("div",{className:"text-center mb-4",children:[e("div",{className:"position-relative d-inline-block",children:t("div",{className:"rounded-circle bg-primary text-white d-flex align-items-center justify-content-center mx-auto mb-3 position-relative",style:{width:"80px",height:"80px",fontSize:"24px",cursor:"pointer"},onClick:()=>O(!0),children:[C?e("img",{src:C,alt:"Perfil",className:"rounded-circle w-100 h-100",style:{objectFit:"cover"}}):F((null==a?void 0:a.name)||"Usuario"),e("div",{className:"position-absolute bottom-0 end-0 bg-white rounded-circle p-1 shadow-sm",children:e("i",{className:"bi bi-camera text-primary",style:{fontSize:"12px"}})})]})}),e("h5",{className:"mb-1",children:(null==a?void 0:a.name)||"Usuario"}),e("p",{className:"text-muted small mb-0",children:(null==a?void 0:a.email)||"usuario@ejemplo.com"}),"medico"===(null==a?void 0:a.role)&&e(g,{bg:"success",className:"mt-2",children:"Médico"})]}),e("div",{className:"profile-nav",children:("medico"===(null==a?void 0:a.role)?[{key:"profile",icon:"bi-person",label:"Información profesional"},{key:"patients",icon:"bi-people",label:"Mis pacientes"},{key:"settings",icon:"bi-gear",label:"Configuración"}]:[{key:"profile",icon:"bi-person",label:"Información personal"},{key:"medical",icon:"bi-clipboard2-pulse",label:"Información médica"},{key:"ask-doctor",icon:"bi-chat-dots",label:"Consultar al médico"},{key:"settings",icon:"bi-gear",label:"Configuración"}]).map((a=>t("div",{className:"profile-nav-item "+(P===a.key?"active":""),onClick:()=>L(a.key),children:[e("i",{className:`${a.icon} me-2`})," ",a.label]},a.key)))})]})})}),t(o,{lg:9,children:["medico"===(null==a?void 0:a.role)?t(r,{children:["profile"===P&&e(d,{className:"border-0 shadow-sm",children:t(d.Body,{className:"p-4",children:[e("h4",{className:"mb-4",children:"Información profesional"}),R&&e(m,{variant:"danger",children:R}),T&&e(m,{variant:"success",children:"¡Perfil actualizado con éxito!"}),t(h,{onSubmit:U,children:[t(c,{children:[e(o,{md:6,children:t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Nombre completo"}),e(h.Control,{type:"text",name:"name",value:b.name,onChange:z,placeholder:"Dr./Dra. Nombre completo"})]})}),e(o,{md:6,children:t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Correo electrónico"}),e(h.Control,{type:"email",name:"email",value:b.email,onChange:z,placeholder:"doctor@hospital.com",disabled:!0})]})})]}),t(c,{children:[e(o,{md:6,children:t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Especialidad"}),e(h.Control,{type:"text",name:"specialty",value:b.specialty,onChange:z,placeholder:"Ej: Oncología, Medicina Interna"})]})}),e(o,{md:6,children:t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Número de colegiado"}),e(h.Control,{type:"text",name:"licenseNumber",value:b.licenseNumber,onChange:z,placeholder:"Número de colegiado"})]})})]}),t(c,{children:[e(o,{md:6,children:t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Hospital/Clínica"}),e(h.Control,{type:"text",name:"hospital",value:b.hospital,onChange:z,placeholder:"Centro médico donde trabajas"})]})}),e(o,{md:6,children:t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Teléfono"}),e(h.Control,{type:"tel",name:"phone",value:b.phone,onChange:z,placeholder:"Teléfono de contacto"})]})})]}),t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Biografía profesional"}),e(h.Control,{as:"textarea",rows:4,name:"bio",value:b.bio,onChange:z,placeholder:"Describe tu experiencia, formación y enfoque profesional..."})]}),e("div",{className:"text-end",children:e(l,{variant:"primary",type:"submit",disabled:k,children:k?"Guardando...":"Guardar cambios"})})]})]})}),"patients"===P&&e(d,{className:"border-0 shadow-sm",children:t(d.Body,{className:"p-4",children:[t("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e("h4",{className:"mb-0",children:"Mis pacientes"}),t(g,{bg:"primary",pill:!0,children:[B.length," pacientes"]})]}),e(N,{variant:"flush",children:B.map((a=>t(N.Item,{className:"d-flex justify-content-between align-items-center px-0",children:[t("div",{className:"d-flex align-items-center",children:[e("div",{className:"me-3",children:e("div",{className:"rounded-circle bg-secondary text-white d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",fontSize:"14px"},children:F(a.name)})}),t("div",{children:[e("h6",{className:"mb-1",children:a.name}),e("p",{className:"text-muted small mb-0",children:a.email}),t("p",{className:"text-muted small mb-0",children:["Última visita: ",new Date(a.lastVisit).toLocaleDateString("es-ES")]})]})]}),t("div",{className:"text-end",children:[e(g,{bg:"active"===a.status?"success":"warning",className:"mb-1",children:"active"===a.status?"Activo":"Pendiente"}),a.nextAppointment&&t("p",{className:"text-muted small mb-0",children:["Próxima cita: ",new Date(a.nextAppointment).toLocaleDateString("es-ES")]})]})]},a.id)))})]})})]}):t(r,{children:["profile"===P&&e(d,{className:"border-0 shadow-sm",children:t(d.Body,{className:"p-4",children:[e("h4",{className:"mb-4",children:"Información personal"}),R&&e(m,{variant:"danger",children:R}),T&&e(m,{variant:"success",children:"¡Perfil actualizado con éxito!"}),t(h,{onSubmit:U,children:[t(c,{children:[e(o,{md:6,children:t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Nombre completo"}),e(h.Control,{type:"text",name:"name",value:b.name,onChange:z,placeholder:"Tu nombre completo"})]})}),e(o,{md:6,children:t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Correo electrónico"}),e(h.Control,{type:"email",name:"email",value:b.email,onChange:z,placeholder:"tu@email.com",disabled:!0}),e(h.Text,{className:"text-muted",children:"El correo electrónico no se puede cambiar."})]})})]}),t(c,{children:[e(o,{md:6,children:t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Teléfono"}),e(h.Control,{type:"tel",name:"phone",value:b.phone,onChange:z,placeholder:"Tu número de teléfono"})]})}),e(o,{md:6,children:t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Fecha de nacimiento"}),e(h.Control,{type:"date",name:"birthdate",value:b.birthdate,onChange:z})]})})]}),t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Contacto de emergencia"}),e(h.Control,{type:"text",name:"emergencyContact",value:b.emergencyContact,onChange:z,placeholder:"Nombre y teléfono de contacto de emergencia"})]}),e("div",{className:"text-end",children:e(l,{variant:"primary",type:"submit",disabled:k,children:k?"Guardando...":"Guardar cambios"})})]})]})}),"medical"===P&&e(d,{className:"border-0 shadow-sm",children:t(d.Body,{className:"p-4",children:[e("h4",{className:"mb-4",children:"Información médica"}),t(h,{onSubmit:U,children:[t(h.Group,{className:"mb-4",children:[e(h.Label,{children:"Notas médicas importantes"}),e(h.Control,{as:"textarea",rows:4,name:"medicalNotes",value:b.medicalNotes,onChange:z,placeholder:"Alergias, medicamentos actuales, condiciones previas, etc."}),e(h.Text,{className:"text-muted",children:"Esta información será compartida con tu médico asignado."})]}),e("h5",{className:"mb-3",children:"Médico asignado"}),e(d,{className:"border-0 bg-light mb-4",children:e(d.Body,{children:t("div",{className:"d-flex align-items-center",children:[e("div",{className:"me-3",children:e("div",{className:"rounded-circle bg-primary text-white d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px"},children:F(_.name)})}),t("div",{children:[e("h6",{className:"mb-1",children:_.name}),t("p",{className:"text-muted mb-0 small",children:[_.specialty," - ",_.hospital]})]})]})})}),e("div",{className:"text-end",children:e(l,{variant:"primary",type:"submit",disabled:k,children:k?"Guardando...":"Guardar cambios"})})]})]})}),"ask-doctor"===P&&e(xt,{doctorId:_.id})]}),"settings"===P&&e(d,{className:"border-0 shadow-sm",children:t(d.Body,{className:"p-4",children:[e("h4",{className:"mb-4",children:"Configuración"}),e("h5",{className:"mb-3",children:"Notificaciones"}),e(h.Check,{type:"switch",id:"notification-email",label:"Recibir notificaciones por correo electrónico",defaultChecked:!1,className:"mb-2"}),e(h.Check,{type:"switch",id:"notification-app",label:"Recibir notificaciones en la aplicación",defaultChecked:!1,className:"mb-2"}),e(h.Check,{type:"switch",id:"notification-reminder",label:"Recordatorios de citas",defaultChecked:!1,className:"mb-4"}),e("h5",{className:"mb-3",children:"Privacidad"}),"dragona"===(null==a?void 0:a.role)?t(r,{children:[e(h.Check,{type:"switch",id:"privacy-share-doctor",label:"Compartir información con mi médico",defaultChecked:!1,className:"mb-2"}),e(h.Check,{type:"switch",id:"privacy-anonymous",label:"Participar anónimamente en estadísticas de investigación",defaultChecked:!1,className:"mb-4"})]}):t(r,{children:[e(h.Check,{type:"switch",id:"privacy-patient-data",label:"Acceso a datos de pacientes",defaultChecked:!0,className:"mb-2"}),e(h.Check,{type:"switch",id:"privacy-research",label:"Participar en investigación médica",defaultChecked:!1,className:"mb-4"})]}),t("div",{className:"text-end",children:[e(l,{variant:"outline-danger",className:"me-2",children:"Cerrar sesión"}),e(l,{variant:"primary",children:"Guardar preferencias"})]})]})})]})]}),t(y,{show:D,onHide:()=>O(!1),centered:!0,children:[e(y.Header,{closeButton:!0,children:e(y.Title,{children:"Cambiar foto de perfil"})}),t(y.Body,{children:[e("div",{className:"text-center mb-4",children:e("div",{className:"rounded-circle bg-light border d-flex align-items-center justify-content-center mx-auto",style:{width:"120px",height:"120px"},children:C?e("img",{src:C,alt:"Vista previa",className:"rounded-circle w-100 h-100",style:{objectFit:"cover"}}):e("i",{className:"bi bi-person",style:{fontSize:"48px",color:"#ccc"}})})}),t(h.Group,{className:"mb-3",children:[e(h.Label,{children:"Seleccionar imagen"}),e(h.Control,{type:"file",accept:"image/*",onChange:e=>{const a=e.target.files[0];if(a){if(a.size>5242880)return void A("La imagen no puede ser mayor a 5MB");w(a);const e=new FileReader;e.onload=e=>{S(e.target.result)},e.readAsDataURL(a)}},ref:u}),e(h.Text,{className:"text-muted",children:"Formatos permitidos: JPG, PNG, GIF. Tamaño máximo: 5MB."})]})]}),t(y.Footer,{children:[e(l,{variant:"secondary",onClick:()=>O(!1),children:"Cancelar"}),e(l,{variant:"primary",onClick:async()=>{if(v){E(!0);try{await new Promise((e=>setTimeout(e,1500))),j(!0),O(!1),setTimeout((()=>j(!1)),3e3)}catch(e){A("Error al subir la imagen")}finally{E(!1)}}},disabled:!v||k,children:k?t(r,{children:[e(p,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Subiendo..."]}):"Guardar foto"})]})]})]})},St=()=>t(i,{className:"py-5 text-center",children:[e("img",{src:"/favicon.svg",alt:"Logo",width:"80",height:"80",className:"mb-4"}),e("h1",{children:"404 - Página no encontrada"}),e("p",{className:"lead",children:"Lo sentimos, la página que estás buscando no existe."}),t("p",{children:["Vuelve a la ",e("a",{href:"/",children:"página principal"})," para continuar navegando."]})]});function kt(){return t(r,{children:[e(ot,{}),e("div",{className:"flex-grow-1 py-3",children:t(A,{children:[e(T,{path:"/",element:e(E,{to:"/login",replace:!0})}),e(T,{path:"/login",element:e(ht,{})}),e(T,{path:"/register",element:e(ut,{})}),e(T,{path:"/register-doctor",element:e(pt,{})}),e(T,{path:"/politica-privacidad",element:e("div",{style:{height:"100vh"},children:e("iframe",{src:"/politica-privacidad.html",style:{width:"100%",height:"100%",border:"none"},title:"Política de Privacidad"})})}),e(T,{path:"/admin",element:e(mt,{role:"admin",children:e(ft,{})})}),e(T,{path:"/dashboard",element:e(mt,{children:e(bt,{})})}),e(T,{path:"/motivacion",element:e(mt,{children:e(Nt,{})})}),e(T,{path:"/comunidad",element:e(mt,{role:"dragona",children:e(wt,{})})}),e(T,{path:"/profile",element:e(mt,{children:e(Ct,{})})}),e(T,{path:"/citas",element:e(mt,{role:"dragona",children:e(vt,{})})}),e(T,{path:"/sintomas",element:e(mt,{role:"dragona",children:e(yt,{})})}),e(T,{path:"/doctor",element:e(mt,{role:"medico",children:e(gt,{})})}),e(T,{path:"*",element:e(St,{})})]})}),e(dt,{})]})}F.createRoot(document.getElementById("root")).render(e(C.StrictMode,{children:e(j,{children:e(lt,{children:e(kt,{})})})}));
